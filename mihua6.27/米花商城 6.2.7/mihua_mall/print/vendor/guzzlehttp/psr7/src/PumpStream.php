<?php
 namespace GuzzleHttp\Psr7; use Psr\Http\Message\StreamInterface; class PumpStream implements StreamInterface { private $source; private $size; private $tellPos = 0; private $metadata; private $buffer; public function __construct(callable $source, array $options = array()) { goto MS_fC; T7KKI: $this->size = isset($options["\x73\x69\172\x65"]) ? $options["\163\151\x7a\145"] : null; goto wIdSk; MS_fC: $this->source = $source; goto T7KKI; QZQFf: $this->buffer = new BufferStream(); goto AOKMl; wIdSk: $this->metadata = isset($options["\155\145\164\141\x64\141\x74\x61"]) ? $options["\155\x65\x74\x61\144\x61\164\x61"] : []; goto QZQFf; AOKMl: } public function __toString() { try { return copy_to_string($this); } catch (\Exception $e) { return ''; } } public function close() { $this->detach(); } public function detach() { $this->tellPos = false; $this->source = null; } public function getSize() { return $this->size; } public function tell() { return $this->tellPos; } public function eof() { return !$this->source; } public function isSeekable() { return false; } public function rewind() { $this->seek(0); } public function seek($offset, $whence = SEEK_SET) { throw new \RuntimeException("\x43\141\x6e\x6e\157\x74\x20\163\145\145\x6b\x20\141\40\x50\x75\155\160\x53\x74\162\145\x61\x6d"); } public function isWritable() { return false; } public function write($string) { throw new \RuntimeException("\x43\141\156\x6e\157\x74\x20\167\162\151\x74\x65\40\x74\157\x20\x61\x20\x50\165\155\x70\x53\x74\x72\145\x61\x6d"); } public function isReadable() { return true; } public function read($length) { goto zRxrg; YQJI9: $this->tellPos += strlen($data) - $readLen; goto jxYp7; zRxrg: $data = $this->buffer->read($length); goto g_76S; ZUyCP: if (!$remaining) { goto Xz_47; } goto Cri1k; jxYp7: Xz_47: goto EDiTH; Q3wV7: $data .= $this->buffer->read($remaining); goto YQJI9; VtsPv: $this->tellPos += $readLen; goto olcOa; g_76S: $readLen = strlen($data); goto VtsPv; EDiTH: return $data; goto gJ7Nw; Cri1k: $this->pump($remaining); goto Q3wV7; olcOa: $remaining = $length - $readLen; goto ZUyCP; gJ7Nw: } public function getContents() { goto UzQx_; fHHh3: if ($this->eof()) { goto sfHK6; } goto RAGC8; hEpLL: nwJfB: goto fHHh3; r9s0G: sfHK6: goto LbWab; UzQx_: $result = ''; goto hEpLL; LbWab: return $result; goto W9fvO; RAGC8: $result .= $this->read(1000000); goto S15uf; S15uf: goto nwJfB; goto r9s0G; W9fvO: } public function getMetadata($key = null) { goto x9WKm; mdwMO: return isset($this->metadata[$key]) ? $this->metadata[$key] : null; goto GnRpT; xxvmb: return $this->metadata; goto SHQxJ; SHQxJ: ADRiP: goto mdwMO; x9WKm: if ($key) { goto ADRiP; } goto xxvmb; GnRpT: } private function pump($length) { goto Jj7qs; k4Ezq: return; goto WhXqD; P3X2L: C_4W1: goto mtYFs; QdLlh: z246m: goto nhopL; SLXo5: $length -= strlen($data); goto Soiho; nhopL: $data = call_user_func($this->source, $length); goto PVQdx; HRroe: $this->buffer->write($data); goto SLXo5; mtYFs: e3cWb: goto OVqSI; iNRKe: $this->source = null; goto k4Ezq; Jj7qs: if (!$this->source) { goto e3cWb; } goto QdLlh; PVQdx: if (!($data === false || $data === null)) { goto LJjvh; } goto iNRKe; WhXqD: LJjvh: goto HRroe; Soiho: if ($length > 0) { goto z246m; } goto P3X2L; OVqSI: } }