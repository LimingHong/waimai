<?php
 namespace GuzzleHttp\Psr7; use Psr\Http\Message\StreamInterface; class LimitStream implements StreamInterface { use StreamDecoratorTrait; private $offset; private $limit; public function __construct(StreamInterface $stream, $limit = -1, $offset = 0) { goto VJbRc; VJbRc: $this->stream = $stream; goto dre9e; XRsZx: $this->setOffset($offset); goto j1PO8; dre9e: $this->setLimit($limit); goto XRsZx; j1PO8: } public function eof() { goto nFYkk; rI84K: HrbTR: goto T1SRK; PCQB3: return false; goto rI84K; BjvXy: if (!($this->limit == -1)) { goto HrbTR; } goto PCQB3; v1Lvr: zU3ZR: goto BjvXy; T1SRK: return $this->stream->tell() >= $this->offset + $this->limit; goto zENLC; nFYkk: if (!$this->stream->eof()) { goto zU3ZR; } goto NZsk2; NZsk2: return true; goto v1Lvr; zENLC: } public function getSize() { goto HZONc; wh1dr: PFkdT: goto cZZMg; HZONc: if (null === ($length = $this->stream->getSize())) { goto mGXdb; } goto wa_VG; Xh8E7: return min($this->limit, $length - $this->offset); goto lFnQ6; KoTCh: mGXdb: goto Kvjg8; Kvjg8: return null; goto eO9k0; wa_VG: if ($this->limit == -1) { goto szixq; } goto Xh8E7; qelGs: return $length - $this->offset; goto wh1dr; eO9k0: goto PFkdT; goto NXryd; NXryd: szixq: goto qelGs; lFnQ6: goto PFkdT; goto KoTCh; cZZMg: } public function seek($offset, $whence = SEEK_SET) { goto wbzTq; gtmkw: vgAjB: goto o9v7C; Lllr1: throw new \RuntimeException(sprintf("\103\x61\x6e\x6e\157\164\40\163\145\x65\153\x20\x74\157\x20\157\146\146\x73\145\164\40\45\x20\167\151\164\x68\x20\x77\150\145\x6e\x63\x65\x20\45\163", $offset, $whence)); goto t259x; o9v7C: tdqbB: goto t7i65; t7i65: $this->stream->seek($offset); goto QkR3N; wbzTq: if (!($whence !== SEEK_SET || $offset < 0)) { goto lrf5I; } goto Lllr1; t259x: lrf5I: goto mFwls; mFwls: $offset += $this->offset; goto eKwzp; Cnsmd: $offset = $this->offset + $this->limit; goto gtmkw; xRCwS: if (!($offset > $this->offset + $this->limit)) { goto vgAjB; } goto Cnsmd; eKwzp: if (!($this->limit !== -1)) { goto tdqbB; } goto xRCwS; QkR3N: } public function tell() { return $this->stream->tell() - $this->offset; } public function setOffset($offset) { goto Qb1Qi; d7_7E: goto S8qaE; goto sK4UQ; qwFtG: $this->stream->seek($offset); goto ZAJLT; sK4UQ: YPuCw: goto qwFtG; UfgLf: throw new \RuntimeException("\103\157\165\154\144\40\156\157\164\x20\163\145\145\x6b\40\x74\x6f\40\x73\164\x72\x65\141\x6d\x20\x6f\x66\146\163\x65\164\x20{$offset}"); goto WipoM; ZAJLT: goto S8qaE; goto B9Fgx; pRZ3_: if ($this->stream->isSeekable()) { goto YPuCw; } goto VYCga; FxGFG: if (!($current !== $offset)) { goto zBWov; } goto pRZ3_; Wb_B8: zBWov: goto KvfCS; MHMwd: $this->stream->read($offset - $current); goto d7_7E; VYCga: if ($current > $offset) { goto wE88s; } goto MHMwd; Qb1Qi: $current = $this->stream->tell(); goto FxGFG; KvfCS: $this->offset = $offset; goto MKw3f; B9Fgx: wE88s: goto UfgLf; WipoM: S8qaE: goto Wb_B8; MKw3f: } public function setLimit($limit) { $this->limit = $limit; } public function read($length) { goto iQCS6; O2ix3: $remaining = $this->offset + $this->limit - $this->stream->tell(); goto gu3pV; HArHM: return $this->stream->read($length); goto WThw0; WThw0: BVxTz: goto O2ix3; gu3pV: if (!($remaining > 0)) { goto S1r1W; } goto Gp6A8; Bt2nX: S1r1W: goto EzSZx; Gp6A8: return $this->stream->read(min($remaining, $length)); goto Bt2nX; EzSZx: return ''; goto vzzeQ; iQCS6: if (!($this->limit == -1)) { goto BVxTz; } goto HArHM; vzzeQ: } }