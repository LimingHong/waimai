<?php
 namespace GuzzleHttp; use GuzzleHttp\Promise\PromiseInterface; use GuzzleHttp\Psr7; use Psr\Http\Message\RequestInterface; class PrepareBodyMiddleware { private $nextHandler; public function __construct(callable $nextHandler) { $this->nextHandler = $nextHandler; } public function __invoke(RequestInterface $request, array $options) { goto AQqD1; E2Ykk: if (!($request->getBody()->getSize() === 0)) { goto rnFNM; } goto yjnl7; JCVGr: $modify = []; goto ioj7T; zoMbX: $modify["\x73\x65\164\x5f\150\145\141\x64\145\162\163"]["\x43\x6f\156\x74\145\x6e\x74\x2d\x54\171\160\145"] = $type; goto eFKNU; U03DY: if (!($uri = $request->getBody()->getMetadata("\x75\x72\151"))) { goto E9ZU8; } goto X1JCJ; yjnl7: return $fn($request, $options); goto dL0jE; GeVgu: goto o_SOm; goto IVRBp; eFKNU: XgTMG: goto iLnVV; dL0jE: rnFNM: goto JCVGr; X1JCJ: if (!($type = Psr7\mimetype_from_filename($uri))) { goto XgTMG; } goto zoMbX; oxBTM: $this->addExpectHeader($request, $options, $modify); goto oJTuP; iLnVV: E9ZU8: goto GNQbV; xqjao: if ($size !== null) { goto OnIhC; } goto OWwe8; oJTuP: return $fn(Psr7\modify_request($request, $modify), $options); goto i2nS8; ZUC15: o_SOm: goto l47ka; l47ka: fCZth: goto oxBTM; IVRBp: OnIhC: goto D6_qM; D6_qM: $modify["\163\x65\x74\x5f\150\x65\141\x64\x65\x72\163"]["\103\157\x6e\x74\x65\156\x74\55\114\145\x6e\147\x74\x68"] = $size; goto ZUC15; AQqD1: $fn = $this->nextHandler; goto E2Ykk; OWwe8: $modify["\x73\145\164\x5f\x68\145\141\x64\145\x72\163"]["\x54\162\141\156\163\x66\x65\162\x2d\105\156\143\x6f\x64\151\x6e\x67"] = "\143\150\x75\156\x6b\145\x64"; goto GeVgu; ioj7T: if ($request->hasHeader("\103\x6f\156\164\145\x6e\x74\55\x54\x79\160\x65")) { goto l6w7V; } goto U03DY; j37VF: if (!(!$request->hasHeader("\103\x6f\156\164\145\156\164\x2d\114\x65\x6e\147\164\150") && !$request->hasHeader("\x54\x72\x61\x6e\163\146\x65\162\55\105\x6e\143\157\x64\151\156\147"))) { goto fCZth; } goto aDVy7; GNQbV: l6w7V: goto j37VF; aDVy7: $size = $request->getBody()->getSize(); goto xqjao; i2nS8: } private function addExpectHeader(RequestInterface $request, array $options, array &$modify) { goto RaiMX; kliCB: MZrp7: goto NT7JP; NT7JP: if (!($expect === true)) { goto fq4Bs; } goto nT40a; I2NwP: z0zrK: goto qpMyl; XTUHh: if (!($expect === false || $request->getProtocolVersion() < 1.1)) { goto MZrp7; } goto q1ePw; ZGNhC: yNIIA: goto bi6Z6; rwVbS: $modify["\163\x65\x74\x5f\x68\x65\x61\x64\145\162\163"]["\x45\x78\x70\145\x63\164"] = "\x31\60\60\55\x43\157\x6e\164\x69\156\165\x65"; goto I2NwP; bi6Z6: $body = $request->getBody(); goto Ph48O; uYWcm: if (!($expect === null)) { goto yNIIA; } goto axYkO; SBdpC: return; goto GrYJe; nT40a: $modify["\163\x65\164\137\x68\x65\141\x64\x65\162\163"]["\105\x78\x70\145\x63\x74"] = "\x31\60\60\x2d\x43\x6f\156\164\151\156\165\x65"; goto BgJ3K; IxX0w: if (!($size === null || $size >= (int) $expect || !$body->isSeekable())) { goto z0zrK; } goto rwVbS; D2R96: fq4Bs: goto uYWcm; Ph48O: $size = $body->getSize(); goto IxX0w; m3ykJ: $expect = isset($options["\145\x78\x70\145\143\164"]) ? $options["\x65\170\x70\x65\x63\x74"] : null; goto XTUHh; axYkO: $expect = 1048576; goto ZGNhC; RaiMX: if (!$request->hasHeader("\105\170\x70\145\143\164")) { goto IfWC0; } goto SBdpC; GrYJe: IfWC0: goto m3ykJ; q1ePw: return; goto kliCB; BgJ3K: return; goto D2R96; qpMyl: } }