<?php
 namespace GuzzleHttp\Psr7; use Psr\Http\Message\UriInterface; final class UriResolver { public static function removeDotSegments($path) { goto YivNO; YivNO: if (!($path === '' || $path === "\x2f")) { goto gJ1jv; } goto U3vM3; S7cJT: CuyGf: goto R0NPJ; gJnD7: return $newPath; goto J4D8C; VG3KZ: Bnce2: goto gJnD7; ZgaTL: if ($newPath !== '' && ($segment === "\x2e" || $segment === "\56\56")) { goto CuyGf; } goto zTNAq; gbUwu: goto Bnce2; goto S7cJT; N7N4F: foreach ($segments as $segment) { goto x2IrJ; qnesD: goto CZ4R4; goto gnJZ5; KJPg8: OPmUR: goto sIkrE; gnJZ5: zC__3: goto DZ22b; cwJdu: CZ4R4: goto KJPg8; qMQPr: goto CZ4R4; goto q3d_0; DZ22b: $results[] = $segment; goto cwJdu; q3d_0: Ddkjd: goto TNRSl; x2IrJ: if ($segment === "\56\x2e") { goto Ddkjd; } goto iUE1i; iUE1i: if ($segment !== "\x2e") { goto zC__3; } goto qMQPr; TNRSl: array_pop($results); goto qnesD; sIkrE: } goto dy3Dd; kFUhS: $segments = explode("\57", $path); goto N7N4F; JkkZm: if ($path[0] === "\57" && (!isset($newPath[0]) || $newPath[0] !== "\x2f")) { goto XXX2x; } goto ZgaTL; U3vM3: return $path; goto sJch1; cnRDE: $newPath = "\57" . $newPath; goto gbUwu; Nyd0c: XXX2x: goto cnRDE; J2RST: $newPath = implode("\57", $results); goto JkkZm; zTNAq: goto Bnce2; goto Nyd0c; sJch1: gJ1jv: goto gNWnn; gNWnn: $results = []; goto kFUhS; dy3Dd: jQ1Nn: goto J2RST; R0NPJ: $newPath .= "\57"; goto VG3KZ; J4D8C: } public static function resolve(UriInterface $base, UriInterface $rel) { goto lJv3b; S1f9n: $targetAuthority = $base->getAuthority(); goto Ar1qB; Rd16J: qx117: goto SzG0P; PkhUs: gBKTI: goto JA7oP; ArzaI: $targetPath = self::removeDotSegments($rel->getPath()); goto gfS1v; Ar1qB: if ($rel->getPath() === '') { goto gBKTI; } goto oH6Xb; gfS1v: $targetQuery = $rel->getQuery(); goto L2BlE; VknlL: $targetPath = substr($base->getPath(), 0, $lastSlashPos + 1) . $rel->getPath(); goto xGI2P; qc9Uk: $lastSlashPos = strrpos($base->getPath(), "\57"); goto Hb3K9; SzG0P: if (!($rel->getScheme() != '')) { goto j13dT; } goto Tvo5V; yT4TR: MUDcO: goto TB7mA; L2BlE: HBLDm: goto i94K3; WqJlM: if ($targetAuthority != '' && $base->getPath() === '') { goto VHmZ6; } goto qc9Uk; gxuxp: VHmZ6: goto rnV9h; q0bKA: PRpzS: goto yBCcl; ndYvy: goto HBLDm; goto YCxZv; yU81E: if ($rel->getAuthority() != '') { goto tfZwg; } goto S1f9n; npPD0: $targetQuery = $rel->getQuery() != '' ? $rel->getQuery() : $base->getQuery(); goto AwtWC; xGI2P: goto ot4dn; goto q0bKA; Hb3K9: if ($lastSlashPos === false) { goto PRpzS; } goto VknlL; oH6Xb: if ($rel->getPath()[0] === "\x2f") { goto kgTr9; } goto WqJlM; i94K3: return new Uri(Uri::composeComponents($base->getScheme(), $targetAuthority, $targetPath, $targetQuery, $rel->getFragment())); goto M6vim; rnV9h: $targetPath = "\x2f" . $rel->getPath(); goto d0Jxd; YCxZv: tfZwg: goto xPcZ9; NywxI: goto GWbgP; goto PkhUs; Tvo5V: return $rel->withPath(self::removeDotSegments($rel->getPath())); goto np7CU; mVjWU: ot4dn: goto YWVu_; T_TsH: $targetQuery = $rel->getQuery(); goto NywxI; xPcZ9: $targetAuthority = $rel->getAuthority(); goto ArzaI; d0Jxd: KULtr: goto KwS6l; JA7oP: $targetPath = $base->getPath(); goto npPD0; TB7mA: $targetPath = self::removeDotSegments($targetPath); goto T_TsH; KwS6l: goto MUDcO; goto Sxk6D; CKPQ2: $targetPath = $rel->getPath(); goto yT4TR; qjVV_: return $base; goto Rd16J; AwtWC: GWbgP: goto ndYvy; np7CU: j13dT: goto yU81E; Sxk6D: kgTr9: goto CKPQ2; YWVu_: goto KULtr; goto gxuxp; yBCcl: $targetPath = $rel->getPath(); goto mVjWU; lJv3b: if (!((string) $rel === '')) { goto qx117; } goto qjVV_; M6vim: } public static function relativize(UriInterface $base, UriInterface $target) { goto fapNq; FH2Zx: return $target; goto Co3XO; Fca4r: $lastSegment = end($segments); goto uet9I; Co3XO: MjUmi: goto aBADU; WZJtw: if (!($target->getAuthority() !== '' && $base->getAuthority() !== $target->getAuthority())) { goto YE38Q; } goto Ap2AN; URY3x: return $target; goto QC9lU; aBADU: if (!Uri::isRelativePathReference($target)) { goto VPmHd; } goto URY3x; O7CrC: tQd9p: goto k5Nf0; JTo8N: $emptyPathUri = $target->withScheme('')->withPath('')->withUserInfo('')->withPort(null)->withHost(''); goto PMVc9; hs3gf: return $emptyPathUri->withPath(self::getRelativePath($base, $target)); goto Kvrvj; sd84w: if (!($base->getQuery() === $target->getQuery())) { goto tQd9p; } goto wCDrp; PMVc9: if (!($base->getPath() !== $target->getPath())) { goto U8Tpo; } goto hs3gf; Ap2AN: return $target->withScheme(''); goto jlysO; wCDrp: return $emptyPathUri->withQuery(''); goto O7CrC; FbzUY: $segments = explode("\57", $target->getPath()); goto Fca4r; fapNq: if (!($target->getScheme() !== '' && ($base->getScheme() !== $target->getScheme() || $target->getAuthority() === '' && $base->getAuthority() !== ''))) { goto MjUmi; } goto FH2Zx; jlysO: YE38Q: goto JTo8N; Kvrvj: U8Tpo: goto sd84w; Z1h1w: return $emptyPathUri; goto Nz6Iz; Mh2Yq: VJm3k: goto Z1h1w; uet9I: return $emptyPathUri->withPath($lastSegment === '' ? "\x2e\57" : $lastSegment); goto Mh2Yq; QC9lU: VPmHd: goto WZJtw; k5Nf0: if (!($target->getQuery() === '')) { goto VJm3k; } goto FbzUY; Nz6Iz: } private static function getRelativePath(UriInterface $base, UriInterface $target) { goto AFvAJ; JeDIX: $relativePath = "\56\x2f{$relativePath}"; goto n3M56; HZwXx: foreach ($sourceSegments as $i => $segment) { goto th1ja; ySznK: unset($sourceSegments[$i], $targetSegments[$i]); goto ryL1Z; ryL1Z: XtYmx: goto VZBcl; vPcHE: goto XtYmx; goto DXCy_; th1ja: if (isset($targetSegments[$i]) && $segment === $targetSegments[$i]) { goto yZ2xO; } goto wP2rH; VZBcl: UTQv9: goto Xripb; wP2rH: goto kWxCg; goto vPcHE; DXCy_: yZ2xO: goto ySznK; Xripb: } goto ZuqeP; n3M56: goto Q_wF3; goto NG82b; oE8U1: $targetLastSegment = array_pop($targetSegments); goto HZwXx; OtDS4: $relativePath = "\56\x2f{$relativePath}"; goto JvFRx; XI18_: $targetSegments[] = $targetLastSegment; goto X8X5V; NG82b: cv7tc: goto EgGGY; VlPyA: array_pop($sourceSegments); goto oE8U1; vF2X5: a8d6l: goto JeDIX; N9F0Y: return $relativePath; goto MRI6o; N0mr1: Q_wF3: goto N9F0Y; ZuqeP: kWxCg: goto XI18_; LpyCn: LUrOv: goto Mf2Ly; mnJbT: if ('' === $relativePath || false !== strpos(explode("\x2f", $relativePath, 2)[0], "\72")) { goto a8d6l; } goto kHazh; OdQjK: JqeeB: goto N0mr1; AFvAJ: $sourceSegments = explode("\x2f", $base->getPath()); goto EQ_jx; avJui: goto Q_wF3; goto vF2X5; Mf2Ly: $relativePath = "\56{$relativePath}"; goto OdQjK; kHazh: if ("\57" === $relativePath[0]) { goto cv7tc; } goto avJui; EQ_jx: $targetSegments = explode("\x2f", $target->getPath()); goto VlPyA; JvFRx: goto JqeeB; goto LpyCn; X8X5V: $relativePath = str_repeat("\56\x2e\x2f", count($sourceSegments)) . implode("\x2f", $targetSegments); goto mnJbT; EgGGY: if ($base->getAuthority() != '' && $base->getPath() === '') { goto LUrOv; } goto OtDS4; MRI6o: } private function __construct() { } }