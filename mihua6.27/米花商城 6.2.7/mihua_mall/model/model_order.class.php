<?php
 class model_order { static function decodeOrderStatus($status, $refundstatus) { goto P0nXJ; hvzlY: $res = 8; goto uwVFY; rL_EE: goto BdLAN; goto Sbs3y; P0nXJ: if ($refundstatus == 1) { goto Es0RR; } goto ewUZW; DurH2: return $res; goto ZwZVc; uwVFY: BdLAN: goto DurH2; ewUZW: $res = $status; goto rL_EE; Sbs3y: Es0RR: goto hvzlY; ZwZVc: } static function getSingleOrderAndGood($orderid) { goto cl0bT; FNSSU: $select = "\x20\x61\x2e\x70\162\151\x63\x65\x20\x61\x73\40\164\157\164\x61\x6c\x6d\x6f\156\145\171\54\x61\x2e\146\162\x6f\155\137\165\163\x65\162\x20\x61\x73\x20\x6f\160\145\156\151\x64\x2c\x61\x2e\x6f\162\144\x65\162\164\x79\x70\145\54\x61\56\151\144\x20\101\x53\x20\x69\144\x6f\146\157\x72\x64\145\x72\54\x61\56\165\163\x65\x72\151\144\54\141\x2e\147\x72\x6f\165\x70\151\x64\54\x61\x2e\x73\x74\x61\x74\x75\x73\54\142\56\x74\157\x74\x61\154\x20\141\163\x20\x62\165\171\x6e\165\x6d\54\143\x2e\x69\144\x20\x41\123\x20\x67\151\x64\x2c\143\56\147\x72\157\x75\160\x6e\x75\x6d\x2c\x63\56\147\x72\157\165\x70\x65\x6e\x64\x74\151\155\x65\54\x63\x2e\x74\x69\x74\154\x65"; goto MOiM9; cXLtM: foreach ($data as $k => $v) { goto yZ9ji; yZ9ji: if (!($k == 0)) { goto bkVce; } goto R9qqH; ZM6RL: A1bne: goto mQMzF; KBaTb: bkVce: goto WD5e3; R9qqH: $order = $v; goto KBaTb; WD5e3: $order["\147\157\x6f\x64\151\x6e\146\157"][$k] = $v; goto ZM6RL; mQMzF: } goto KAH5g; ZblOc: return $order; goto yzsv0; pMiZU: $data = pdo_fetchall($sql, array("\72\x75\x6e\x69\141\143\x69\x64" => $_W["\x75\x6e\151\x61\x63\151\144"], "\x3a\x6f\162\x64\145\x72\151\144" => $orderid)); goto cXLtM; MOiM9: $sql = "\40\123\105\x4c\x45\103\124\x20{$select}\40\106\x52\117\115\40" . tablename("\155\151\x68\165\141\137\x6d\x61\154\x6c\x5f\x6f\162\x64\145\162") . "\40\x41\x53\x20\141\x20\122\111\x47\x48\124\40\112\117\x49\x4e\x20" . tablename("\155\x69\150\165\141\137\x6d\x61\x6c\x6c\137\x6f\x72\144\x65\162\x5f\x67\x6f\157\144\x73") . "\40\101\123\40\142\x20\x4f\116\x20\x61\56\x60\x69\x64\140\40\75\40\x62\56\x6f\x72\x64\145\x72\151\144\40\12\x9\x9\114\x45\x46\x54\x20\112\x4f\x49\x4e\x20" . tablename("\x6d\x69\x68\165\141\137\155\141\154\154\x5f\x67\x6f\x6f\x64\x73") . "\40\x41\x53\x20\x63\40\117\x4e\40\143\x2e\x60\x69\144\140\x20\x3d\x20\142\x2e\x60\x67\157\x6f\144\163\x69\144\140\x20\127\x48\105\x52\105\40\141\56\x60\x75\x6e\151\x61\x63\151\144\x60\x20\75\x20\x3a\165\156\x69\x61\143\151\144\x20\101\x4e\104\x20\141\x2e\151\x64\x20\x3d\40\72\157\x72\x64\145\162\151\144\x20"; goto pMiZU; cl0bT: global $_W; goto FNSSU; KAH5g: PXjv3: goto ZblOc; yzsv0: } static function getSingleOrderByStatus($where, $statusstr) { goto TaeRn; EX10p: $str = $data[0] . "\x20\x41\116\104\40\163\164\x61\x74\x75\x73\40" . $statusstr; goto QR7CE; kMc9h: return pdo_fetch($sql, $data[1]); goto V3hSu; QR7CE: $sql = "\123\x45\x4c\x45\103\x54\40\52\x20\106\122\117\115\x20" . tablename("\x6d\151\150\x75\x61\x5f\155\141\x6c\154\x5f\157\x72\x64\145\x72") . "\x20\x57\110\105\x52\105\x20{$str}\x20"; goto kMc9h; TaeRn: $data = Util::structWhereStringOfAnd($where); goto EX10p; V3hSu: } static function getOrderNumberByStatus($where, $statusstr) { goto xKUmN; y7kjs: $str = $data[0] . "\x20\101\x4e\104\40\163\164\141\x74\165\x73\x20" . $statusstr; goto LL2LQ; LL2LQ: $sql = "\123\x45\114\x45\103\124\x20\103\x4f\x55\116\124\50\52\x29\x20\106\122\x4f\115\x20" . tablename("\155\x69\150\165\x61\137\155\x61\x6c\154\137\157\x72\x64\145\162") . "\x20\x57\x48\105\x52\105\40{$str}\x20"; goto BQePr; xKUmN: $data = Util::structWhereStringOfAnd($where); goto y7kjs; BQePr: return pdo_fetchcolumn($sql, $data[1]); goto Xljt9; Xljt9: } static function getSingleOrderDetail($id, $wherea) { return Util::getDataByCacheFirst("\157\x72\x64\145\x72", $id, array("\155\x6f\x64\x65\x6c\x5f\x6f\x72\144\x65\162", "\147\x65\x74\x41\154\x6c\x4f\162\144\x65\162"), array($wherea, '', '', "\40\52\54\x61\56\x69\144\x20\101\123\40\x69\x64\54\142\56\x69\x64\x20\x41\123\40\x62\151\144\40", 1, 10, "\x20\x62\56\151\144\40\104\105\x53\x43\x20", false)); } static function countOrderNumber($uid) { goto xpbw6; l5V98: if (!empty($data)) { goto T0yQF; } goto dgz9H; xpbw6: $data = Util::getCache("\157\x72\x64\145\162\x6e\165\155\x62\145\x72", $uid); goto l5V98; gR0_n: $data["\167\x61\x69\164\163\x65\156\x64"] = Util::countDataNumber("\155\151\150\x75\141\137\155\141\154\154\x5f\157\162\144\x65\x72", array("\x75\x6e\151\x61\143\151\144" => $_W["\x75\156\151\x61\143\151\x64"], "\165\x69\x64" => $uid, "\163\x74\141\164\165\163" => 3), "\40\101\x4e\x44\40\162\x65\146\165\156\144\163\164\x61\164\x75\x73\x20\x21\x3d\40\61\x20"); goto w8ZVE; dgz9H: $data["\167\141\x69\x74\160\141\171"] = Util::countDataNumber("\x6d\x69\x68\x75\141\137\155\141\154\x6c\137\x6f\162\144\145\x72", array("\x75\x6e\x69\141\x63\x69\144" => $_W["\x75\156\x69\x61\143\151\x64"], "\165\x69\x64" => $uid, "\163\164\x61\x74\x75\163" => 1)); goto gR0_n; w8ZVE: $data["\167\x61\x69\164\164\x61\x6b\145"] = Util::countDataNumber("\x6d\151\150\x75\141\137\x6d\x61\x6c\154\x5f\x6f\162\x64\145\162", array("\x75\x6e\x69\141\143\x69\x64" => $_W["\x75\x6e\x69\141\143\151\144"], "\165\151\144" => $uid, "\163\x74\x61\164\x75\163" => 4)); goto eXOTq; zYfhl: T0yQF: goto MDAsr; MDAsr: return $data; goto kQPdN; eXOTq: $data["\167\141\151\164\x63\157\155\155\x65\156\x74"] = Util::countDataNumber("\155\151\150\x75\x61\137\155\x61\x6c\154\137\157\x72\144\145\x72", array("\165\x6e\x69\x61\143\x69\x64" => $_W["\x75\156\x69\141\x63\151\x64"], "\x75\151\x64" => $uid, "\163\164\x61\164\x75\163" => 5)); goto v_daL; v_daL: util::setCache("\157\162\144\x65\x72\156\x75\x6d\142\x65\162", $uid, $data); goto zYfhl; kQPdN: } static function getAllOrder($wherea, $whereb, $statusstr, $select, $page, $num, $order, $isNeedpage) { goto gtRwk; U9kL8: $commonstr = tablename("\x6d\151\x68\165\141\137\155\141\x6c\154\137\x6f\x72\x64\x65\162") . "\x20\x41\x53\x20\141\x20\12\x9\x9\x20\114\x45\x46\x54\40\x4a\117\x49\x4e\x20\40" . tablename("\x6d\151\150\165\x61\137\155\x61\x6c\x6c\x5f\157\162\144\x65\162\137\147\157\157\x64\163") . "\40\101\123\x20\143\x20\x4f\116\40\x63\x2e\x60\157\162\144\145\162\151\x64\x60\40\x3d\40\x61\56\x60\x69\x64\140\xa\11\x9\x20\x4c\x45\106\x54\40\112\117\x49\x4e\x20\40" . tablename("\155\x69\150\x75\141\x5f\155\141\154\154\137\141\144\144\x72\x65\x73\x73") . "\x20\x41\x53\x20\163\x20\117\x4e\x20\163\x2e\140\151\144\x60\x20\x3d\x20\x61\56\x60\141\144\144\x72\x65\163\x73\x69\144\x60\xa\x9\x9\40\x4c\x45\106\124\x20\x4a\117\111\x4e\40\40" . tablename("\x6d\x69\150\165\x61\137\x6d\x61\154\154\x5f\x75\163\145\x72") . "\40\101\x53\x20\x75\40\x4f\x4e\40\x61\x2e\140\x75\163\x65\162\x69\144\140\x20\75\40\x75\x2e\x60\151\144\140\xa\x9\11\x20\x4c\x45\x46\124\40\x4a\117\x49\x4e\40\40" . tablename("\155\x69\150\x75\141\x5f\x6d\x61\154\154\x5f\x67\x6f\x6f\144\x73") . "\x20\x41\123\x20\144\40\117\116\40\143\56\140\x67\x6f\157\144\x73\151\144\x60\40\75\x20\144\56\140\x69\x64\140\40\x20\x57\110\x45\122\105\40" . $dataa[0] . $datab[0] . $str; goto UTBL2; LqL_H: $datab[0] = "\40\101\x4e\104\40" . $datab[0]; goto ZKwfR; gtRwk: $dataa = Util::structWhereStringOfAnd($wherea, "\141"); goto M2D0j; byEcY: foreach ($data[0] as $k => $v) { $orderinfo[$v["\x69\144\157\x66\157\162\x64\x65\x72"]][$k] = $v; OjOkB: } goto SnvFL; M2D0j: $datab = Util::structWhereStringOfAnd($whereb, "\142"); goto UauWx; UauWx: if (empty($statusstr)) { goto PzOaI; } goto wMaFA; yDxYF: $params = array_merge((array) $dataa[1], (array) $datab[1]); goto ZCdhe; YFh_G: $selectStr = "\123\105\114\x45\103\x54\x20{$select}\40\106\122\x4f\115\x20" . $commonstr; goto QlGd4; SnvFL: PPBP5: goto u0S0U; ZKwfR: TTkZO: goto U9kL8; UTBL2: $countStr = "\123\105\x4c\105\103\124\x20\x43\x4f\125\x4e\x54\x28\52\x29\x20\x46\122\117\x4d\40" . $commonstr; goto YFh_G; ZCdhe: if (empty($datab[0])) { goto TTkZO; } goto LqL_H; wMaFA: $str = "\x20\101\x4e\x44\x20" . $statusstr; goto qZVDI; QlGd4: $data = Util::fetchFunctionInCommon($countStr, $selectStr, $params, $page, $num, $order, $isNeedpage); goto byEcY; u0S0U: return array($orderinfo, $data[1], $data[2]); goto xCeMs; qZVDI: PzOaI: goto yDxYF; xCeMs: } static function cancelDoNotPayOrder($orderinfo, $module) { goto A4oVS; X6x63: if (!($orderinfo["\163\164\x61\x74\165\x73"] != 1)) { goto J4V47; } goto XzvXX; XzvXX: return false; goto UJQHN; KZ_GI: if (!($module->module["\x63\x6f\156\x66\x69\x67"]["\x69\163\162\145\x74\165\162\156\143\162\145\144\151\x74"] == 1 && $orderinfo["\143\x72\145\144\151\x74"] > 0)) { goto OZd9k; } goto sz1cp; cERD9: $address = ''; goto AObLh; sz1cp: $res = model_user::updateUserCredit($orderinfo["\146\x72\x6f\x6d\137\165\x73\145\x72"], $orderinfo["\143\162\x65\x64\151\164"], "\63"); goto EfNmu; APk27: TbEKY: goto KZ_GI; mPCQ6: Message::imessage2($orderinfo["\146\162\x6f\x6d\137\x75\163\x65\x72"], $module, $title, $orderinfo["\157\x72\x64\x65\162\163\156"], $orderinfo["\x70\162\x69\x63\x65"], $address, $orderinfo["\x69\144"]); goto gTg8s; ALPlr: $title = ''; goto cERD9; oJOTA: return $res; goto A3nXw; gTg8s: Util::deleteCache("\x6f\162\x64\145\x72", $orderinfo["\x69\x64"]); goto oTTiS; A4oVS: global $_W; goto X6x63; UJQHN: J4V47: goto uD9G7; UgFbe: foreach ($ordergood[0] as $k => $v) { goto rWA7u; LHFOG: Util::deleteCache("\147\157\157\144", $v["\x67\x6f\157\144\163\151\x64"]); goto YfB3J; YfB3J: $title .= pdo_fetchcolumn("\x53\105\114\x45\103\x54\40\164\x69\x74\154\145\40\40\106\x52\x4f\x4d\40" . tablename("\155\x69\x68\x75\x61\137\155\141\154\x6c\137\147\157\x6f\x64\x73") . "\x20\x57\x48\105\x52\105\x20\165\156\x69\141\143\x69\x64\x20\x3d\40{$_W["\x75\156\x69\x61\143\151\144"]}\x20\x61\x6e\x64\x20\x69\144\75\x20{$v["\147\x6f\157\144\163\x69\x64"]}"); goto MgoQU; rWA7u: Util::addOrMinusOrUpdateData("\155\151\150\165\x61\137\x6d\141\154\x6c\x5f\147\157\x6f\144\x73", array("\164\x6f\164\x61\x6c" => $v["\x74\x6f\x74\x61\x6c"]), $v["\147\x6f\157\144\163\x69\144"], "\x61\x64\144\x6f\162\x6d\151\x6e\x75\163"); goto LHFOG; MgoQU: SikMC: goto z0mnM; z0mnM: } goto LHSoS; fKMTw: if (!$orderinfo["\x61\x64\144\162\x65\x73\163\151\x64"]) { goto CqXHn; } goto kmxqK; uD9G7: $res = pdo_update("\155\151\x68\165\141\137\155\x61\x6c\x6c\x5f\157\x72\x64\145\x72", array("\x73\x74\x61\164\165\x73" => 2, "\143\141\156\x63\145\x6c\164\151\155\x65" => time()), array("\151\x64" => $orderinfo["\151\x64"], "\163\x74\141\x74\x75\x73" => 1)); goto VRPaV; oXT5J: CqXHn: goto mPCQ6; UEdVY: $address = $addressall["\162\145\141\154\x6e\x61\x6d\145"] . "\x20" . $addressall["\x70\162\157\x76\x69\x6e\x63\x65"] . $addressall["\x63\x69\x74\x79"] . $addressall["\141\x72\145\x61"] . $addressall["\x61\144\144\162\x65\x73\163"]; goto oXT5J; oTTiS: Util::deleteCache("\x6f\162\144\x65\162\156\165\155\x62\x65\162", $orderinfo["\x75\x73\145\162\x69\144"]); goto oJOTA; NOsfG: $res = pdo_update("\x6d\x69\150\165\x61\x5f\155\x61\x6c\154\x5f\165\163\x65\x72\143\141\x72\144", array("\x75\163\145\x74\151\x6d\145" => 0, "\x73\164\x61\x74\165\x73" => 0), array("\x69\144" => $orderinfo["\143\x61\162\144\151\x64"], "\x75\156\x69\x61\x63\151\144" => $_W["\x75\x6e\x69\x61\143\x69\144"])); goto APk27; VRPaV: if (!($module->module["\x63\157\156\x66\151\147"]["\x69\163\x72\x65\164\x75\x72\x6e\143\x61\162\144"] == 1 && $orderinfo["\x63\x61\162\x64\x69\144"] > 0)) { goto TbEKY; } goto NOsfG; kmxqK: $addressall = pdo_fetch("\x53\105\x4c\x45\103\x54\x20\162\x65\x61\154\156\x61\155\145\x2c\x70\x72\157\x76\x69\156\x63\145\x2c\143\x69\x74\171\54\x61\162\145\141\54\x61\144\x64\162\x65\163\x73\40\40\x46\122\x4f\x4d\40" . tablename("\155\x69\150\165\141\x5f\155\141\x6c\154\x5f\141\x64\x64\x72\145\163\x73") . "\x20\x57\110\x45\x52\105\40\x75\156\x69\x61\143\x69\x64\40\x3d\40{$_W["\165\x6e\x69\x61\143\x69\144"]}\x20\141\x6e\x64\40\x69\144\75\40{$orderinfo["\141\x64\144\x72\x65\163\x73\151\144"]}"); goto UEdVY; EfNmu: OZd9k: goto ALPlr; LHSoS: s880I: goto fKMTw; AObLh: $ordergood = Util::getAllDataInSingleTable("\155\151\150\165\x61\137\155\x61\x6c\154\x5f\x6f\x72\x64\145\x72\x5f\147\x6f\x6f\144\x73", array("\157\162\x64\x65\x72\x69\144" => $orderinfo["\x69\144"]), 1, 10, "\x69\144\x20\x44\x45\123\x43", false, "\40\151\144\54\164\157\x74\x61\x6c\x20"); goto UgFbe; A3nXw: } static function confirmOrder($orderinfo, $type) { goto xjwoF; Ua5S_: Lxtoe: goto p8Kbw; p8Kbw: Util::deleteCache("\x66\x73\x75\x73\145\162", $orderinfo["\157\160\145\156\x69\144"]); goto jPUeb; LFOHb: return $res; goto Yg5iD; Iz3C0: Util::deleteCache("\157\x72\144\x65\162\x6e\x75\155\x62\x65\x72", $orderinfo["\165\163\145\x72\x69\x64"]); goto LFOHb; KJh2u: q2YHy: goto iwWHR; HbUDa: foreach ($allgood as $k => $v) { goto xrZ6F; xrZ6F: $credit = pdo_get("\155\x69\150\165\141\137\x6d\x61\x6c\154\x5f\x67\x6f\x6f\144\163", array("\x69\x64" => $v["\147\x6f\x6f\144\x73\151\x64"]), "\165\163\x65\162\x63\x72\x65\x64\x69\x74"); goto upXnE; WJzfN: Eje9v: goto PO_dJ; EDpIX: model_user::updateUserCredit($orderinfo["\x6f\160\145\156\x69\x64"], $credit["\165\163\x65\162\143\162\x65\x64\151\164"] * $v["\142\x75\x79\156\x75\x6d"], 4); goto I0jlf; I0jlf: MWruN: goto WJzfN; upXnE: if (!($credit["\x75\163\145\x72\143\x72\145\x64\151\164"] > 0)) { goto MWruN; } goto EDpIX; PO_dJ: } goto Ua5S_; jPUeb: Util::deleteCache("\157\162\144\145\x72", $orderinfo["\151\x64"]); goto Iz3C0; AlPEE: $allgood = pdo_getall("\x6d\151\x68\x75\x61\x5f\155\141\x6c\154\137\157\x72\x64\145\x72\137\x67\x6f\x6f\144\163", array("\x6f\162\144\x65\162\151\x64" => $orderinfo["\x69\144"])); goto HbUDa; xjwoF: if (!($orderinfo["\163\x74\x61\x74\165\163"] != 4)) { goto q2YHy; } goto wze19; iwWHR: $res = pdo_update("\155\151\150\165\141\x5f\x6d\x61\x6c\x6c\137\157\162\x64\145\162", array("\163\x74\x61\164\x75\163" => 5, "\x63\x6f\156\x66\151\162\x6d\164\x69\x6d\145" => time(), "\143\157\155\146\151\x72\145\x74\171\160\145" => $type), array("\x69\144" => $orderinfo["\151\144"], "\x73\x74\141\164\x75\x73" => 4)); goto AlPEE; wze19: return false; goto KJh2u; Yg5iD: } static function sendGood($id, $uparray, $type) { goto NzUus; Mt_ZF: $orderinfo = Util::getSingelDataInSingleTable("\x6d\151\150\165\141\137\x6d\141\x6c\x6c\137\x6f\162\144\145\x72", array("\165\156\151\141\x63\151\x64" => $_W["\x75\156\151\141\143\x69\x64"], "\x69\144" => $id), "\40\147\162\157\x75\160\x69\144\54\x75\163\145\162\151\x64\40"); goto PMfDQ; ZGtQY: if (!($data["\163\x74\x61\x74\x75\x73"] && $type == "\145\170\160\x72\145\163\163")) { goto NFB5A; } goto QhFcu; H4GgX: NFB5A: goto UsSI6; oNYbk: $queue->addMessage(1, $id); goto H4GgX; OEK_n: return $data; goto bJ6vB; bjWcv: if ($groupstatus) { goto iIQWo; } goto foGfB; QhFcu: $queue = new queue(); goto oNYbk; PMfDQ: $groupstatus = self::checkIsAllowReundAndSend($orderinfo["\x67\162\x6f\x75\x70\x69\144"]); goto bjWcv; UsSI6: Util::deleteCache("\x6f\162\x64\x65\162", $id); goto Gj8AO; NzUus: global $_W; goto Mt_ZF; Gj8AO: Util::deleteCache("\157\162\144\x65\x72\156\x75\155\x62\145\162", $orderinfo["\x75\163\145\x72\x69\x64"]); goto OEK_n; foGfB: return array("\163\164\141\x74\165\163" => false, "\145\x72\162\137\x63\x6f\144\x65" => "\345\233\xa2\350\264\255\350\xae\xa2\345\x8d\225\xe8\277\230\xe5\x9c\250\347\xbb\204\345\x9b\xa2\344\270\xad\357\274\214\344\xb8\215\xe8\x83\275\345\x8f\x91\350\264\247"); goto LYU_r; LYU_r: iIQWo: goto uYdec; uYdec: $data["\x73\164\x61\164\x75\x73"] = pdo_update("\x6d\x69\x68\165\x61\x5f\x6d\141\154\154\x5f\157\162\x64\145\x72", $uparray, array("\165\x6e\151\141\x63\151\x64" => $_W["\165\x6e\x69\x61\x63\x69\144"], "\x69\x64" => intval($id))); goto ZGtQY; bJ6vB: } static function checkIsAllowReundAndSend($groupid) { goto vAbcA; vAbcA: global $_W; goto smK9D; rTxRH: if (!($groupinfo["\x73\x74\x61\164\x75\163"] == 1 || $groupinfo["\x69\163\162\145\x66\165\x6e\144"] == 2)) { goto Zgf2f; } goto zmQjZ; smK9D: $groupinfo = Util::getSingelDataInSingleTable("\155\x69\x68\x75\x61\x5f\x6d\x61\x6c\x6c\137\x67\x72\x6f\165\160", array("\165\156\x69\x61\143\x69\x64" => $_W["\165\156\x69\141\143\151\144"], "\x69\144" => $groupid), "\x20\52\40"); goto rTxRH; zmQjZ: return false; goto TcrvC; BOjvP: return true; goto q4xaS; TcrvC: Zgf2f: goto BOjvP; q4xaS: } static function backMoney($order_goods, $money, $module, $from) { goto Xm5Tm; Xm5Tm: global $_W; goto emWwB; mmcIO: Message::fmessage($orderinfo["\x66\x72\x6f\x6d\x5f\x75\x73\x65\x72"], $module, $orderinfo["\x6f\162\x64\145\162\163\156"], $money, $orderinfo["\x70\x61\x79\x74\171\x70\145"], $url2); goto ILEWP; ixUrE: fodLx: goto gEv9f; xT7xN: goto MxOQf; goto FUJ1s; B6yvy: $res["\145\162\x72\157\x72\137\x63\157\x64\145"] = $data["\x65\162\162\137\x63\x6f\144\145\x5f\x64\145\x73"]; goto gKxTT; tGuAy: $data = $pay->refund($arr); goto awz52; awz52: if ($data["\x72\x65\x73\165\x6c\164\x5f\x63\x6f\144\145"] == "\123\125\x43\x43\x45\x53\x53") { goto IjJE2; } goto TyzW5; PV4cg: $url2 = Util::createModuleUrl("\x72\x65\x66\x75\x6e\144", array("\157\147\151\x64" => $ogid)); goto mmcIO; CEhqX: $ogid = intval($order_goods["\151\144"]); goto VPpy2; gKxTT: goto PZjhs; goto Ryswc; emWwB: $id = intval($order_goods["\x6f\162\x64\145\162\151\144"]); goto CEhqX; Q1N9f: if ($orderinfo["\160\x61\x79\x74\171\160\x65"] == "\62" && !empty($orderinfo["\164\162\x61\156\163\151\144"])) { goto WTita; } goto L8Z6d; Ryswc: IjJE2: goto n6ov9; kYDi_: $res["\x73\x74\141\164\x75\x73"] = model_user::updateUserMoney($orderinfo["\x66\x72\157\x6d\137\x75\x73\x65\162"], $money, 1); goto xT7xN; FUJ1s: WTita: goto BzGh1; oN8sW: N3OkC: goto BJvwX; n6ov9: $res["\163\164\141\x74\165\163"] = true; goto xNJdF; xNJdF: PZjhs: goto QMnvI; gEv9f: if ($orderinfo["\160\141\171\164\171\160\145"] == "\61") { goto kgVNJ; } goto Q1N9f; XNXII: if (!($money <= 0 || $order_goods["\x70\162\151\143\145"] < $money || $orderinfo["\x73\x74\x61\x74\x75\163"] != 1 && $orderinfo["\x73\x74\x61\164\x75\163"] != 4 || $order_goods["\x6f\162\x64\145\x72\137\163\x74\x61\164\165\163"] != 3 && $order_goods["\x6f\162\x64\x65\162\x5f\163\164\x61\164\x75\163"] != 5)) { goto fodLx; } goto Gpo3x; M1uGe: $result = pdo_update("\155\151\150\165\141\137\155\x61\x6c\154\137\x72\x65\x66\x75\156\x64", array("\162\x65\x66\165\156\x64\164\151\155\145" => time(), "\155\x6f\x6e\145\171" => $money), array("\165\x6e\x69\141\x63\151\144" => $_W["\165\x6e\151\141\143\151\144"], "\157\147\x69\x64" => $ogid)); goto PV4cg; ILEWP: return $result; goto pCY7t; RWQtk: kgVNJ: goto kYDi_; ZSjk_: if (!$res["\163\x74\141\x74\x75\163"]) { goto N3OkC; } goto t303q; oW4fH: $arr = array("\x75\157\x72\x64\x65\162\x69\x64" => $orderinfo["\164\x72\141\x6e\163\x69\x64"], "\164\x6f\x74\141\x6c\x6d\x6f\x6e\x65\x79" => $orderinfo["\160\162\151\143\145"], "\x72\145\146\165\x6e\x64\155\x6f\156\145\171" => $money); goto tGuAy; Gpo3x: return false; goto ixUrE; BzGh1: $pay = new WeixinPay(); goto oW4fH; t303q: $ress = pdo_update("\x6d\151\150\x75\141\x5f\155\141\154\x6c\x5f\x6f\x72\x64\145\162\137\x67\157\x6f\x64\x73", array("\x6f\x72\x64\x65\162\x5f\x73\x74\141\164\165\x73" => 7), array("\x75\156\x69\x61\143\151\144" => $_W["\x75\156\151\141\x63\x69\x64"], "\151\144" => $ogid)); goto E4Xo6; L8Z6d: goto MxOQf; goto RWQtk; E4Xo6: if (!$ress) { goto LZoOI; } goto M1uGe; TyzW5: $res["\x73\x74\x61\x74\165\163"] = false; goto B6yvy; pCY7t: LZoOI: goto oN8sW; QMnvI: MxOQf: goto ZSjk_; VPpy2: $orderinfo = Util::getSingelDataInSingleTable("\155\x69\150\x75\x61\x5f\x6d\x61\154\154\x5f\157\162\144\x65\162", array("\x75\x6e\151\x61\143\x69\144" => $_W["\165\x6e\x69\x61\143\x69\144"], "\x69\144" => $id), "\x20\x70\x72\x69\x63\x65\x2c\x73\164\141\x74\x75\x73\x2c\x72\145\146\x75\156\144\x73\x74\141\164\x75\x73\x2c\x70\x61\171\164\x79\x70\145\x2c\x66\x72\157\x6d\137\x75\163\145\x72\x2c\x69\x64\54\164\162\141\x6e\x73\151\x64\54\x6f\162\144\145\162\x73\156"); goto XNXII; BJvwX: } static function refundMoney($id, $money, $module, $from) { goto kjdTF; p5RVd: if (!($orderinfo["\x67\x72\x6f\165\160\151\144"] > 0)) { goto Zcsdc; } goto X0PJ6; X0PJ6: $isendgroup = self::getSingleOrderByStatus(array("\165\x6e\x69\141\x63\x69\x64" => $_W["\165\x6e\151\x61\x63\151\x64"], "\x67\x72\x6f\x75\x70\151\144" => $orderinfo["\x67\x72\157\165\x70\151\144"]), "\x20\x49\116\40\x28\x33\x2c\64\x2c\65\x2c\66\x29\x20"); goto jqgq6; MlHJB: JF_Oi: goto Kchnv; QvSpO: vW4sB: goto rT0tN; BPryb: $pay = new WeixinPay(); goto JDm7w; edwAr: if (!$ress) { goto veqju; } goto p5RVd; ECdU_: pdo_update("\x6d\x69\x68\x75\141\137\155\x61\x6c\x6c\137\147\162\x6f\x75\x70", array("\x69\x73\x72\x65\146\x75\156\x64" => 2), array("\165\156\x69\141\143\x69\144" => $_W["\165\156\x69\141\143\x69\144"], "\151\144" => $orderinfo["\147\162\x6f\x75\160\x69\x64"])); goto r6F1B; IOyYP: ohqtH: goto siZaq; Vwj76: mGhIJ: goto p1Uzu; WsDYZ: $res["\163\x74\x61\x74\x75\x73"] = true; goto pM8h6; qOSSE: goto EQJBy; goto iJjDe; wPw17: goto EQJBy; goto Vwj76; bZtR5: Zcsdc: goto ke3e5; iJjDe: pSQD6: goto BPryb; h826g: if ($orderinfo["\x70\141\171\x74\171\x70\x65"] == "\61") { goto mGhIJ; } goto ahTET; CIOxJ: Util::deleteCache("\147\x72\157\165\x70", $orderinfo["\x67\x72\157\x75\x70\x69\x64"]); goto XJLpn; yNMDK: EQJBy: goto Ua_bx; piBhJ: return $res; goto MlHJB; KnBVO: $orderinfo = Util::getSingelDataInSingleTable("\155\x69\150\x75\141\137\155\141\154\x6c\137\x6f\162\144\x65\x72", array("\165\x6e\x69\141\x63\151\x64" => $_W["\165\x6e\151\x61\x63\x69\144"], "\x69\x64" => $id), "\x20\x70\x72\x69\x63\x65\54\163\x74\x61\x74\165\163\54\x72\x65\x66\x75\x6e\144\x73\x74\141\164\x75\x73\x2c\160\141\x79\164\171\x70\x65\x2c\146\x72\157\x6d\137\165\163\145\162\x2c\151\x64\54\164\162\141\156\x73\151\x64\54\147\162\157\165\x70\151\144\x2c\x6f\162\144\145\x72\163\156\40"); goto OHt0t; P34NJ: Message::fmessage($orderinfo["\146\x72\157\x6d\x5f\x75\x73\145\162"], $module, $orderinfo["\157\x72\x64\145\162\x73\x6e"], $money, $orderinfo["\160\141\x79\x74\171\x70\x65"], $url2); goto TKASO; jqgq6: if (!empty($isendgroup)) { goto MEqKN; } goto ECdU_; kjdTF: global $_W; goto Tsoss; TkqxJ: goto VfaIG; goto oqDRa; XJLpn: MEqKN: goto bZtR5; TN49H: $data = $pay->refund($arr); goto ApA3w; Xpv1X: $res["\145\162\162\157\x72\x5f\143\x6f\144\x65"] = "\345\x9b\xa2\xe8\xb4\255\350\256\xa2\xe5\x8d\x95\350\277\x98\xe5\234\250\347\273\x84\xe5\233\242\xe4\270\255\357\274\x8c\xe4\270\215\xe8\203\275\xe9\200\200\346\254\276"; goto piBhJ; ApA3w: if ($data["\x72\x65\x73\165\x6c\164\x5f\143\157\x64\x65"] == "\x53\125\103\x43\x45\123\123") { goto Ckx61; } goto apjfo; eTrLC: if ($groupstatus) { goto JF_Oi; } goto Ign8x; Tsoss: $id = intval($id); goto KnBVO; oqDRa: Ckx61: goto WsDYZ; pM8h6: VfaIG: goto yNMDK; apjfo: $res["\x73\x74\141\x74\165\163"] = false; goto y7j_j; siZaq: if (!($orderinfo["\147\162\x6f\x75\x70\151\x64"] > 0 && $from == "\x77\145\142")) { goto el_MK; } goto rJdgx; jQaQH: Util::deleteCache("\x6f\162\x64\x65\x72\156\165\155\142\145\x72", $orderinfo["\165\x73\145\x72\x69\144"]); goto ggP4P; l4CLH: $ress = pdo_update("\x6d\151\150\x75\x61\137\x6d\x61\154\x6c\x5f\157\162\x64\x65\162", array("\163\x74\141\x74\x75\163" => 7, "\162\x65\x66\165\x6e\144\163\164\141\164\x75\x73" => 3, "\162\145\x66\165\x6e\144\164\151\155\145" => time(), "\162\x65\x66\x75\x6e\144\x6d\x6f\x6e\x65\x79" => $money), array("\x69\x64" => $id)); goto edwAr; OHt0t: $ogwhere["\157\162\x64\x65\x72\151\x64"] = $id; goto SJ6jj; kFk9_: return false; goto IOyYP; JDm7w: $arr = array("\165\x6f\x72\x64\x65\x72\151\x64" => $orderinfo["\x74\x72\x61\156\163\x69\144"], "\x74\157\x74\x61\x6c\x6d\157\156\x65\171" => $orderinfo["\160\x72\x69\x63\145"], "\162\145\146\x75\x6e\144\155\x6f\156\x65\171" => $money); goto TN49H; ahTET: if ($orderinfo["\160\x61\171\x74\x79\160\x65"] == "\x32" && !empty($orderinfo["\164\x72\141\156\x73\151\144"])) { goto pSQD6; } goto wPw17; TKASO: veqju: goto QvSpO; Ua_bx: if (!$res["\x73\164\x61\x74\x75\163"]) { goto vW4sB; } goto l4CLH; r6F1B: pdo_update("\155\151\x68\165\x61\137\x6d\x61\154\x6c\137\157\162\144\145\x72\137\147\157\157\144\163", array("\157\162\x64\145\x72\137\163\x74\x61\x74\165\163" => 7), array("\165\156\x69\x61\143\151\144" => $_W["\165\x6e\151\141\143\151\144"], "\157\x72\144\145\162\x69\144" => $orderinfo["\151\144"])); goto CIOxJ; Kchnv: el_MK: goto h826g; rT0tN: return $res; goto Vf4Ai; p1Uzu: $res["\163\x74\141\x74\165\x73"] = model_user::updateUserMoney($orderinfo["\146\162\157\x6d\137\165\x73\145\x72"], $money, 1); goto qOSSE; SJ6jj: $ogdata = util::getSingelDataInSingleTable("\x6d\x69\x68\165\x61\x5f\x6d\x61\x6c\154\x5f\x6f\x72\144\x65\x72\x5f\147\157\x6f\x64\163", $ogwhere, "\157\x72\144\145\162\137\x73\x74\141\164\165\163"); goto kcfv8; Ign8x: $res["\x73\x74\141\x74\x75\163"] = false; goto Xpv1X; ggP4P: $url2 = Util::createModuleUrl("\x6d\171\x6f\x72\x64\145\162", array("\x6f\x70" => "\x64\145\x74\141\x69\x6c", "\x6f\162\x64\x65\x72\x69\x64" => $id)); goto P34NJ; y7j_j: $res["\145\x72\x72\157\x72\137\143\157\144\145"] = $data["\145\162\162\x5f\x63\157\x64\145\x5f\x64\145\163"]; goto TkqxJ; ke3e5: Util::deleteCache("\x6f\162\x64\x65\162", $id); goto jQaQH; rJdgx: $groupstatus = self::checkIsAllowReundAndSend($orderinfo["\147\x72\x6f\x75\160\151\x64"]); goto eTrLC; kcfv8: if (!($money <= 0 || $ogdata["\x6f\x72\x64\145\x72\x5f\x73\164\x61\x74\x75\x73"] != 1 || $orderinfo["\160\162\x69\143\x65"] < $money || $orderinfo["\x73\x74\x61\164\165\163"] != 1 && $orderinfo["\x73\164\141\164\165\163"] != 4)) { goto ohqtH; } goto kFk9_; Vf4Ai: } static function countOrderMoney($orderInSession, $iscredit, $cardid, $province, $module) { goto dTpSX; RNR6T: if ($totalmoney[1] < 0) { goto B1DYx; } goto C14gZ; KzdRP: bgUSp: goto mwlWI; W2DjW: uiZeO: goto xhsDT; rIV8U: $cardinfo = $cardinfo[0][0]; goto p5b0y; xhsDT: $de = $module->module["\x63\157\156\x66\151\147"]["\x64\145\144\165\143\x74\151\x62\154\x65"]; goto qgTw5; DOt5R: $creditcutmoney = 0; goto neWv9; RyQrO: foreach ($orderInSession as $k => $v) { goto B6qcD; o3Ynt: d0JRN: goto M5Bwe; ZeP6T: $iscanbuy = model_good::checkIsCanBuyThisGood($v["\151\144"], $v["\x6e\165\x6d\x62\x65\162"]); goto cw5qR; Aacuz: R7wn_: goto cMUAf; RLELC: if (!($goodinfo[$k]["\x64\x65\x64\165\143\x74\x69\x62\x6c\x65"] > 0)) { goto K0_sn; } goto uvwSS; CChjJ: AHQwi: goto SXz1k; b5VhS: SIe3H: goto eAqld; MD52N: $virtual = $goodinfo[$k]["\x74\x79\x70\x65"]; goto ntSK9; kJuVT: $goodinfo[$k]["\142\x75\x79\x6e\x75\x6d\x62\x65\162"] = $v["\x6e\x75\155\142\145\162"]; goto hjpdb; M9Ed2: dvcCt: goto dP_kK; iyrT_: unset($goodinfo[$k]["\163\x6f\162\164"]); goto BWXci; CCGFI: $virtual = 1; goto zUDw9; ix22j: goto EGZtL; goto CChjJ; XdlPx: EGZtL: goto ksrIX; HSKsM: unset($goodinfo[$k]["\143\157\x6e\x74\x65\x6e\x74"]); goto CzkZs; Ztq6d: if ($v["\142\165\171\x74\x79\x70\145"] == "\x73\x69\x6e\147\154\x65") { goto dvcCt; } goto slotD; Sq2ld: if ($v["\142\x75\171\164\171\160\x65"] == "\147\162\157\x75\160") { goto MdVc4; } goto WTv4B; o_Fod: $ordertype = 3; goto Aacuz; M5Bwe: $goodinfo[$k]["\142\x75\x79\x74\x6f\x74\141\154\155\157\x6e\145\x79"] = $goodinfo[$k]["\142\165\x79\156\x75\x6d\x62\x65\x72"] * $goodinfo[$k]["\x62\165\171\160\x72\151\143\x65"]; goto QCN87; o3Fcz: goto R7wn_; goto LaO9c; SZqMX: $isverify = $goodinfo[$k]["\151\163\166\x65\x72\151\x66\x79"]; goto ix22j; zUDw9: syDX2: goto sGwwU; SXz1k: $isverify = 1; goto XdlPx; CzkZs: unset($goodinfo[$k]["\x64\145\x73\143\162\151\160\x74\151\157\x6e"]); goto I3hoJ; PPR4g: YtKg0: goto HSKsM; ksrIX: vkqE5: goto tsAP9; B6qcD: $goodinfo[$k] = model_good::getSingleGood($v["\x69\144"]); goto ZeP6T; hjpdb: $goodinfo[$k]["\157\x70\x74\x69\157\x6e\x69\144"] = $v["\162\165\x6c\x65"]["\x6f\x70\x74\151\x6f\156\151\x64"]; goto Ztq6d; WTv4B: message("\xe8\257\267\xe8\277\224\xe5\x9b\x9e\351\x87\215\346\226\260\351\x80\x89\xe6\x8b\251\345\225\206\xe5\x93\201"); goto vAqkQ; LaO9c: MdVc4: goto o_Fod; bzHM3: $totalnum += $goodinfo[$k]["\142\165\171\x6e\165\x6d\x62\x65\162"]; goto fNK3e; QCN87: $totalmoney[0] += $goodinfo[$k]["\x62\x75\171\x74\157\x74\141\154\x6d\157\x6e\x65\171"]; goto bzHM3; wUaGf: unset($goodinfo[$k]["\143\x72\145\141\164\x65\164\x69\155\145"]); goto iyrT_; cMUAf: $groupid = $v["\147\162\x6f\x75\x70\x69\x64"] > 0 ? $v["\x67\162\157\165\x70\x69\x64"] : 0; goto NeA09; sGwwU: if ($goodinfo[$k]["\151\x73\166\145\x72\x69\146\171"] < 2) { goto AHQwi; } goto SZqMX; Invs1: goto R7wn_; goto b5VhS; BWXci: unset($goodinfo[$k]["\x67\x6f\157\x64\x73\x73\156"]); goto eEugK; mzG2j: if (!($goodinfo[$k]["\151\163\x63\x61\162\144"] == 1)) { goto d0JRN; } goto Fm8j7; AWqOk: message("\xe5\x8f\257\350\x83\xbd\345\225\x86\xe5\223\201\xe5\xb7\262\xe4\270\x8d\xe5\xad\230\345\234\250\350\257\267\xe8\xbf\224\xe5\x9b\236\xe9\207\x8d\xe6\x96\xb0\xe9\x80\x89\xe6\213\xa9\xe5\225\206\345\223\x81"); goto FlGzq; K93ed: fU96A: goto CCGFI; fNK3e: if ($goodinfo[$k]["\164\x79\160\x65"] < 2) { goto fU96A; } goto MD52N; NeA09: if (!(empty($goodinfo[$k]["\142\165\171\160\x72\x69\x63\145"]) || $goodinfo[$k]["\142\x75\x79\160\x72\x69\x63\145"] <= 0 || !is_numeric($goodinfo[$k]["\142\165\171\x70\162\x69\143\x65"]))) { goto ry7Pv; } goto AWqOk; vAqkQ: goto R7wn_; goto M9Ed2; dP_kK: $ordertype = 1; goto Invs1; HddGg: message($iscanbuy); goto PPR4g; eAqld: $ordertype = 2; goto o3Fcz; X_hyx: K0_sn: goto mzG2j; uvwSS: $maxcredit += $goodinfo[$k]["\144\x65\144\165\x63\x74\151\x62\x6c\x65"]; goto X_hyx; cw5qR: if (!($iscanbuy != 1)) { goto YtKg0; } goto HddGg; zbJ9_: $goodinfo[$k]["\142\x75\171\162\x75\x6c\x65"] = model_good::getGoodRuleToView($goodinfo[$k]["\x68\x61\163\x6f\x70\164\x69\x6f\156"], $v["\x72\x75\x6c\x65"]); goto kJuVT; I3hoJ: unset($goodinfo[$k]["\x78\163\x74\x68\165\155\x62"]); goto wUaGf; Fm8j7: $iscard = 1; goto o3Ynt; FlGzq: ry7Pv: goto RLELC; eEugK: $goodinfo[$k]["\x62\x75\x79\160\162\x69\x63\x65"] = model_good::getGoodPriceInRule($goodinfo[$k], $v["\142\165\x79\164\x79\x70\145"], $v["\x72\165\154\x65"]); goto zbJ9_; ntSK9: goto syDX2; goto K93ed; slotD: if ($v["\142\x75\x79\164\171\160\x65"] == "\152\x6f\x69\156\147\x72\157\x75\160") { goto SIe3H; } goto Sq2ld; tsAP9: } goto KzdRP; U7enT: goto WT0Xy; goto KbenN; hwuou: if ($usercredit["\x63\162\145\x64\151\x74\x31"] >= $maxcredit) { goto CmctU; } goto azGX0; emoKu: $creditcutmoney += $totalmoney[1]; goto rA005; azGX0: $minuscredit = intval($usercredit["\x63\162\145\x64\x69\x74\x31"]); goto o8WQm; OswID: $goodinfo = array(); goto ARgCy; RTbPW: B1DYx: goto jRU98; BxZwV: $maxcredit = 0; goto tlKLs; RRZhd: IoayX: goto U7enT; wx86z: CmctU: goto Wg7Qv; xbuKV: bAMqr: goto vze48; IBcGA: if ($cardinfo["\143\141\162\x64\164\x79\160\145"] == 1) { goto QPUo2; } goto cGJMs; tCmZf: aWxwK: goto jAnBm; MGGuI: $totalnum = 0; goto B8FEy; fp0AG: foreach ($goodinfo as $k => $v) { goto F2bts; w12Bv: $goodinfo[$k]["\x62\x75\x79\x63\141\x72\x64\x66\x6c\141\x67"] = 1; goto Tf21u; F2bts: if (!($v["\151\x73\143\x61\x72\144"] == 1)) { goto Zhmy7; } goto w12Bv; Tf21u: $goodinfo[$k]["\x62\165\x79\164\x6f\x74\141\154\x6d\x6f\x6e\x65\171"] -= $totalcardcountmoney; goto nw73S; A8f9Z: wQyzq: goto GSIe3; nw73S: goto IoayX; goto JarvZ; JarvZ: Zhmy7: goto A8f9Z; GSIe3: } goto RRZhd; o8WQm: goto pYbKE; goto wx86z; hswJJ: CEoZm: goto LaPXY; iQFhj: $totalcardcountmoney = $cardinfo["\143\x61\162\144\x76\x61\x6c\165\145"]; goto fp0AG; ARgCy: $isverify = 0; goto RyQrO; hzJ0G: $creditcutmoney = $minuscredit * $de; goto PlstA; jAnBm: kS_rX: goto qsiGL; Wg7Qv: $minuscredit = $maxcredit; goto vJnzj; cGJMs: if ($cardinfo["\143\x61\162\144\164\x79\160\x65"] == 2) { goto Stqyp; } goto Wu0fN; x90xI: QPUo2: goto iQFhj; mLaOv: $firstcut = 0; goto KSQ80; jRU98: $totalmoney[1] = 0; goto DOt5R; B8FEy: $totalmoney = array(); goto OswID; mwlWI: if (!(!empty($cardid) && $iscard == 1)) { goto kS_rX; } goto iD2qK; KSQ80: $totalcardcountmoney = 0; goto MGGuI; wuYmc: $totalmoney[1] = sprintf("\x25\56\x32\146", $totalmoney[1]); goto RNR6T; Wu0fN: goto WT0Xy; goto x90xI; LaPXY: goto hxe1N; goto RTbPW; fNUF3: opsfq: goto W2DjW; VDw1Y: foreach ($goodinfo as $k => $v) { goto E0Jia; exVTe: UfXQH: goto Yj7r8; obJ6E: $totalcardcountmoney += $goodinfo[$k]["\142\165\171\x63\141\162\x64\143\x75\164\155\157\x6e\x65\171"]; goto ztQf0; E0Jia: if (!($v["\151\163\143\x61\162\144"] == 1)) { goto UfXQH; } goto jMdAx; ztQf0: $goodinfo[$k]["\142\165\171\x74\x6f\x74\x61\154\155\157\x6e\x65\171"] -= $goodinfo[$k]["\x62\165\x79\143\x61\162\x64\143\x75\164\x6d\x6f\x6e\x65\171"]; goto exVTe; jMdAx: $goodinfo[$k]["\x62\x75\171\x63\x61\162\x64\143\165\164\155\157\156\x65\171"] = $v["\142\x75\171\x6e\165\x6d\x62\145\162"] * $v["\x62\165\x79\x70\x72\x69\x63\145"] * (1 - $cardinfo["\x63\x61\x72\x64\x76\x61\x6c\x75\145"]); goto obJ6E; Yj7r8: O1M89: goto K1Jw8; K1Jw8: } goto xbuKV; xWli0: $usercredit = model_user::getUserCredit($_W["\157\160\x65\156\151\x64"]); goto hwuou; PlstA: $totalmoney[1] = $totalmoney[0] - $totalcardcountmoney; goto wuYmc; KbenN: Stqyp: goto VDw1Y; elbKZ: return array("\157\162\x64\145\x72\x74\171\160\145" => $ordertype, "\x67\162\157\165\x70\x69\x64" => $groupid, "\x6d\x69\x6e\165\163\143\162\x65\144\151\x74" => $minuscredit, "\155\x69\156\165\x73\143\162\x65\x64\151\164\x6d\157\x6e\x65\171" => $creditcutmoney, "\164\x6f\164\141\154\x6e\165\x6d" => $totalnum, "\x69\163\x63\141\x72\144" => $iscard, "\x74\157\x74\141\x6c\143\x61\x72\144\143\157\165\156\164\x6d\x6f\156\145\171" => $totalcardcountmoney, "\x74\x6f\164\141\154\155\x6f\156\145\171" => $totalmoney, "\166\x69\162\x74\165\141\x6c" => $virtual, "\x67\157\157\144\x69\156\146\x6f" => $goodinfo, "\151\163\x76\x65\162\151\146\x79" => $isverify); goto mSMBY; rA005: $totalmoney[1] = 0; goto fUnKj; dDmH0: ${$de} = 0.1; goto eY59N; neWv9: $minuscredit = 0; goto HfSDq; m8SqQ: goto aWxwK; goto y3Z2L; p5b0y: if ($cardinfo["\163\x74\141\x74\x75\163"] != 0 || $cardinfo["\157\x76\145\162\x74\x69\155\x65"] < time() || $cardinfo["\x66\165\x6c\154\155\157\156\145\171"] > $totalmoney[0]) { goto TqsBG; } goto IBcGA; puwIY: $minuscredit = 0; goto SV71J; y3Z2L: TqsBG: goto jcbHl; jcbHl: $totalcardcountmoney = 0; goto tCmZf; qgTw5: if (!empty($de)) { goto U5tyD; } goto dDmH0; tlKLs: $iscard = 0; goto mLaOv; dTpSX: global $_W; goto BxZwV; iD2qK: $cardinfo = model_card::getTakedCard(array("\x69\x64" => $cardid), 1, 1, "\x20\x62\56\x60\x69\144\140\40\x44\105\x53\103", "\165\x73\145\163\x69\156\147\154\145", false); goto rIV8U; fUnKj: $minuscredit = $creditcutmoney / $de; goto hswJJ; HfSDq: hxe1N: goto elbKZ; J2Pct: foreach ($goodinfo as $k => $v) { goto bRZHX; ffimA: hKLj_: goto FuGoD; bRZHX: if (!($v["\x6d\x61\x78\x63\x72\145\144\x69\164"] == $maxcredit)) { goto eU1Ql; } goto nYsbz; GkB59: goto opsfq; goto Zr5j0; P9DsV: $creditMoney = $minuscredit * $module->module["\143\x6f\x6e\x66\x69\x67"]["\144\145\144\x75\x63\164\151\142\154\145"]; goto rsyJ1; nYsbz: $goodinfo[$k]["\142\165\171\x63\162\x65\144\x69\164\146\154\x61\x67"] = 1; goto P9DsV; rsyJ1: $goodinfo[$k]["\x62\165\x79\x74\157\x74\x61\154\155\157\156\145\x79"] -= $creditMoney; goto GkB59; Zr5j0: eU1Ql: goto ffimA; FuGoD: } goto fNUF3; vze48: WT0Xy: goto m8SqQ; vJnzj: pYbKE: goto J2Pct; qsiGL: if ($iscredit) { goto ae41J; } goto puwIY; eY59N: U5tyD: goto hzJ0G; EIVy3: ae41J: goto xWli0; CCUtl: if (!($totalmoney[1] < 0)) { goto CEoZm; } goto emoKu; SV71J: goto uiZeO; goto EIVy3; C14gZ: $totalmoney[1] = $totalmoney[1] - $creditcutmoney; goto CCUtl; mSMBY: } function createOrderId($uid) { global $_W, $_GPC; return date("\131\x6d\144\110\x69\163") . $_W["\165\x6e\x69\141\143\151\x64"] . $uid . rand(10000, 99999); } static function ajarefund($op, $noticeid, $cfg) { goto YcSlD; i3yKo: if ($op == "\x73\x75\142\155\x69\x74\145\170\160\162\145\x73\x73") { goto HdHQE; } goto Uh8A8; oBoE9: if (!($status == 9)) { goto cuIV3; } goto PTiYf; SRzMR: Nnmr_: goto QZF9_; sFKLF: exit; goto LR2fF; LQhO_: DP3qe: goto QuqBX; BAGQU: if ($res) { goto JRFOM; } goto sFKVp; kp0hk: if ($status == 9) { goto KL042; } goto FOC1a; hv5is: Message::refundresult($refundinfo["\146\162\157\x6d\137\165\x73\145\162"], $msgid, $title, $refundinfo["\157\162\144\x65\162\x73\x6e"], $refundinfo["\x6d\x6f\x6e\145\x79"], $ogid, $back_remark); goto r2TZT; A1iho: $result = pdo_insert("\x6d\151\x68\x75\x61\137\155\x61\x6c\x6c\137\x72\145\x66\x75\x6e\144\137\141\x64\144\x72\145\x73\163", $re_data); goto QE8sW; Uh8A8: if ($op == "\163\165\142\155\x69\164\x41\144\x64\162\x65\163\x73") { goto yQgEL; } goto F2N9t; MGdBx: exit; goto e24mo; r2TZT: PUnJ5: goto dn9G6; kwWXg: Message::refundresult($refundinfo["\146\162\157\x6d\x5f\165\x73\145\x72"], $msgid, $title, $refundinfo["\157\x72\x64\145\x72\x73\156"], $refundinfo["\x6d\157\x6e\x65\171"], $refundinfo["\x6f\x67\x69\144"], $remark); goto S3veO; RDJNC: $status = 5; goto YaC7u; xVGRE: HIWhq: goto OrtFw; zI0Q3: ECboD: goto SRzMR; HIUXK: $ogid = $refundinfo["\157\147\x69\144"]; goto XN2TQ; eLcxo: if (!$msgid) { goto BB43N; } goto FYtHO; l_owN: if (!$res) { goto pVIok; } goto sJka3; q_tW3: goto TMeKU; goto PqLI0; S3veO: BB43N: goto SQ0Vh; mmvqh: if ($type == 1) { goto yeG9W; } goto sH7Px; dn9G6: echo json_encode(array("\163\x74\141\164\x75\x73" => "\x33", "\163\164\x72" => "\345\xae\xa1\346\xa0\270\xe4\270\215\351\x80\x9a\xe8\xbf\x87")); goto QOLPt; yFQGM: goto ECboD; goto ERUoa; DAM8w: $refundinfo = util::getSingelDataInSingleTable("\155\x69\150\x75\141\x5f\155\x61\x6c\x6c\137\x72\145\146\165\156\x64", $where2, "\x6d\x6f\x6e\x65\x79\x2c\146\162\157\155\137\x75\163\x65\162\54\x6f\x72\144\145\162\x73\156\54\x6f\147\x69\x64\54\141\144\x64\162\x65\163\163\x69\x64"); goto f4CKG; xuI0W: RibZH: goto mmvqh; bgOTx: exit; goto N_ihj; cnGM0: wA2n8: goto Pqq1w; sPoa0: if (!(empty($refund_id) || $type <= 0)) { goto RibZH; } goto fdGtG; qKnnD: $back_remark = $_GPC["\x72\145\155\x61\162\153"] . "\134\x6e"; goto xVGRE; qy1Ap: $where2["\x69\144"] = $refund_id; goto sYw92; brguq: cuIV3: goto hv5is; pGaFt: $refund_id = intval($_GPC["\162\145\146\x75\156\x64\137\151\144"]); goto TxRf6; heX3p: $title = "\345\xbe\x88\xe6\212\xb1\346\255\211\357\274\214\346\202\250\xe7\x9a\x84\351\x80\200\346\xac\xbe\347\x94\263\xe8\xaf\267\xe6\234\xaa\351\x80\232\xe8\277\x87"; goto oBoE9; NfI0S: goto v4K6K; goto XwV6E; TtOzB: echo json_encode(array("\163\x74\141\164\165\163" => "\60")); goto IPcWX; rcF0P: qEVIl: goto k0aEp; pDXAu: $msgid = $cfg["\x72\x5f\151\x64"]; goto eLcxo; anqXc: $refund_id = intval($_GPC["\x72\x65\x66\165\x6e\144\137\151\x64"]); goto XLU3k; BoqQZ: $remark = $beizhu; goto viSuV; QE8sW: $addressid = pdo_insertid(); goto CHP87; N_ihj: lo7qR: goto t0dtg; fdGtG: echo json_encode(array("\163\x74\141\x74\x75\x73" => "\x30", "\163\x74\162" => "\xe8\257\xb7\xe6\261\202\346\225\260\xe6\215\xae\xe5\207\xba\xe9\x94\x99\xef\274\x8c\350\xaf\xb7\347\xa8\x8d\xe5\x80\231\345\206\215\xe8\257\x95")); goto rrQue; QOLPt: exit; goto P_eiA; UTu4e: if (!$msgid) { goto PUnJ5; } goto heX3p; RinwW: $contact = util::getSingelDataInSingleTable("\x6d\151\150\165\141\x5f\155\141\154\154\137\x72\x65\x66\x75\156\x64\x5f\141\144\144\162\x65\x73\x73", $contact_where, "\52"); goto SXpdm; tGFwl: if (!$beizhu) { goto uSagN; } goto sG0dh; jibFX: goto TnvX3; goto f0dR5; FXQl9: echo json_encode(array("\163\164\x61\x74\x75\163" => "\x31", "\141\144\x64\162\145\163\x73\151\144" => $addressid)); goto bgOTx; P5Vgw: if (!$back_remark) { goto HIWhq; } goto OMU9i; UhCbB: $afterstatus = 4; goto RDJNC; v1ey4: pdo_update("\x6d\x69\150\165\141\137\x6d\141\x6c\154\137\162\145\146\165\156\144", $re_data, array("\151\x64" => $refund_id, "\x75\156\x69\x61\x63\151\x64" => $_W["\165\x6e\x69\141\x63\x69\x64"])); goto WPKmm; YcSlD: global $_W, $_GPC; goto i3yKo; MBNMA: $refund_id = intval($_GPC["\x72\145\146\x75\156\144\137\x69\144"]); goto BYM1p; JXpZp: echo json_encode(array("\x73\164\x61\x74\x75\x73" => "\61", "\x6f\x72\144\x65\x72\137\163\x74\x61\164\x75\x73" => $status)); goto yVSt0; qgvtW: goto TMeKU; goto cnGM0; FXU9x: $type = intval($_GPC["\x74\171\160\145"]); goto sPoa0; ZdItW: $result = pdo_update("\x6d\151\150\165\x61\x5f\155\141\154\154\137\157\x72\144\x65\x72\x5f\x67\x6f\x6f\144\x73", array("\157\x72\144\145\x72\137\x73\x74\x61\164\x75\x73" => $status), array("\162\145\146\x75\x6e\x64\x5f\x69\144" => $refund_id, "\157\162\x64\x65\x72\137\x73\164\x61\164\x75\x73" => 2, "\x75\156\x69\x61\x63\x69\144" => $_W["\x75\x6e\x69\x61\143\151\144"])); goto icSSb; sFKVp: echo json_encode(array("\163\164\x61\164\x75\x73" => "\62", "\163\164\162" => "\xe9\x80\200\346\xac\276\345\244\261\350\xb4\245\54\xe8\xaf\267\xe6\x82\xa8\xe7\250\x8d\xe5\x80\x99\xe5\x86\x8d\xe8\257\x95")); goto Ad22R; qCHX5: $title = "\345\xbe\x88\xe6\212\261\346\xad\211\xef\xbc\x8c\xe6\x82\250\xe7\232\x84\351\x80\x80\346\254\276\xe7\224\263\350\xaf\xb7\345\xb7\262\350\242\xab\351\xa9\xb3\xe5\233\236"; goto BoqQZ; tyJZi: uSagN: goto NfI0S; yZ1dz: $contact_where["\151\x64"] = $refundinfo["\141\x64\144\162\145\x73\x73\151\144"]; goto RinwW; OMU9i: $re_data["\x62\141\143\x6b\137\x72\x65\155\x61\x72\153"] = $back_remark; goto qKnnD; viSuV: v4K6K: goto kwWXg; f4CKG: if ($status == 3) { goto KbJ85; } goto kp0hk; uJyan: zdr9e: goto p34gK; GE6O2: $remark .= "\x5c\x6e" . "\xe9\x82\xae\345\xaf\x84\xe5\x9c\260\345\235\x80\357\274\232" . $contact["\141\x64\x64\162\x65\163\163"]; goto tGFwl; IpCtB: c9EQC: goto qgvtW; ERUoa: JRFOM: goto JXpZp; fylGk: B5A5r: goto lQVjN; WUg9o: $re_data["\x72\145\x73\x75\x6c\x74\164\x69\x6d\x65"] = time(); goto GbOVG; hTB3i: echo json_encode(array("\163\x74\x61\x74\165\163" => "\x34", "\163\x74\162" => "\xe9\x80\x80\346\254\276\344\270\x8d\xe5\255\x98\345\234\xa8\346\x88\226\345\267\xb2\345\244\204\xe7\x90\x86")); goto A0UC1; Pdfeq: pdo_update("\x6d\x69\150\x75\141\137\155\141\154\154\x5f\162\x65\x66\165\156\x64", $re_data, array("\x69\144" => $refund_id, "\x75\x6e\151\x61\x63\x69\144" => $_W["\x75\x6e\151\141\143\151\144"])); goto ZdItW; SQ0Vh: echo json_encode(array("\163\x74\x61\164\x75\163" => "\61", "\x6f\162\144\x65\x72\137\163\x74\141\x74\x75\163" => $status)); goto iVlTA; jMWA8: yQgEL: goto q1j12; rrQue: exit; goto xuI0W; sYw92: $refundinfo = util::getSingelDataInSingleTable("\155\151\x68\x75\141\137\155\x61\154\x6c\137\x72\145\x66\x75\156\144", $where2, "\155\x6f\156\145\x79\54\x66\162\157\x6d\x5f\x75\163\x65\162\54\x6f\x72\x64\x65\162\x73\x6e\54\x6f\x67\x69\144"); goto HIUXK; g0kJn: goto v4K6K; goto ij2W0; Pqq1w: if (!($noticeid < 0)) { goto fMvX_; } goto MGdBx; XN2TQ: if ($status == 5 && $type == 1 || $status == 3 && $type == 2) { goto gGg33; } goto m1j5o; SXpdm: $remark = "\xe8\201\x94\xe7\xb3\273\344\272\xba\xef\274\x9a" . $contact["\155\141\156"]; goto lof4Q; IPcWX: exit; goto hW4d4; lof4Q: $remark .= "\134\156" . "\350\x81\224\xe7\xb3\273\xe7\x94\265\350\xaf\x9d\357\274\232" . $contact["\155\x6f\x62\x69\154\x65"]; goto GE6O2; pktyV: gGg33: goto SuRNh; CHP87: if (!$result) { goto lo7qR; } goto FXQl9; FOC1a: $title = "\xe5\xbe\x88\346\212\261\346\xad\211\357\xbc\x8c\346\202\xa8\347\232\204\351\200\x80\xe6\254\276\xe7\224\263\xe8\257\xb7\xe6\x9c\252\351\x80\x9a\350\277\x87"; goto Cv6gm; bt85F: echo json_encode(array("\163\164\x61\164\x75\x73" => "\x31")); goto g3WYW; WSLfx: goto TMeKU; goto jMWA8; NxvLy: if (!(empty($refund_id) || $status <= 0)) { goto zdr9e; } goto DSUbi; DGeJW: $back_remark = trim($_GPC["\x72\x65\x6d\x61\x72\153"]); goto P5Vgw; f0dR5: yeG9W: goto UhCbB; sH7Px: if ($type == 2) { goto DP3qe; } goto jibFX; muBXy: pVIok: goto WSLfx; p34gK: $beizhu = trim($_GPC["\x72\145\x6d\141\162\x6b"]); goto ipvef; ChT4T: $res = pdo_update("\x6d\x69\150\165\x61\x5f\155\x61\x6c\x6c\x5f\162\145\x66\x75\x6e\x64", $re_data, array("\151\144" => $refund_id, "\165\156\151\141\143\x69\144" => $_W["\165\x6e\151\141\x63\x69\x64"])); goto l_owN; g3WYW: exit; goto lAGpq; yVSt0: exit; goto zI0Q3; PqLI0: HdHQE: goto MBNMA; SuRNh: $where["\x69\144"] = $ogid; goto Okw8T; OrtFw: if (!(count($re_data) > 0)) { goto j0K4G; } goto v1ey4; m1j5o: $msgid = $cfg["\x72\137\x69\144"]; goto UTu4e; TxRf6: $status = intval($_GPC["\x73\x74\141\164\x75\x73"]); goto FXU9x; sG0dh: $remark .= "\134\156" . "\xe5\xa4\x87\346\xb3\250\xe8\257\264\xe6\230\216\xef\xbc\x9a" . $beizhu; goto tyJZi; LR2fF: s9oTa: goto anqXc; XwV6E: KL042: goto qCHX5; lAGpq: P1Vux: goto muBXy; wXBw4: $title = "\xe4\275\xa0\xe5\245\xbd\xef\xbc\x8c\xe6\x82\xa8\xe7\232\204\xe9\200\x80\xe6\xac\xbe\347\x94\263\350\xaf\xb7\xe5\xb7\262\xe9\200\232\xe8\xbf\x87"; goto yZ1dz; QZF9_: TMeKU: goto AlFi_; ij2W0: KbJ85: goto wXBw4; G42Le: if (result) { goto ZpYIK; } goto hTB3i; q1j12: if (!($noticeid < 0)) { goto qEVIl; } goto dmeuJ; e24mo: fMvX_: goto pGaFt; QuqBX: $afterstatus = 2; goto WUg9o; FYtHO: $where2["\x69\144"] = $refund_id; goto DAM8w; RtW80: if ($op == "\x62\141\143\153\155\157\156\x65\x79") { goto wA2n8; } goto q_tW3; DFB9W: $res = model_order::backMoney($data, $refundinfo["\x6d\157\156\145\x79"], "\155\x69\x68\x75\x61\x5f\x6d\x61\x6c\154", "\141\x70\160"); goto BAGQU; GbOVG: TnvX3: goto DGeJW; XLU3k: $status = intval($_GPC["\x73\164\x61\x74\165\x73"]); goto NxvLy; DSUbi: echo json_encode(array("\x73\x74\141\164\165\x73" => "\60")); goto CD1s7; A0UC1: ZpYIK: goto qy1Ap; iVlTA: exit; goto IpCtB; clanG: if (!$res) { goto P1Vux; } goto bt85F; sJka3: $res = pdo_update("\155\151\150\x75\x61\137\x6d\x61\154\x6c\x5f\157\x72\144\x65\162\137\x67\x6f\x6f\x64\163", array("\157\x72\144\145\x72\137\x73\x74\141\x74\165\163" => 4), array("\162\x65\x66\x75\156\x64\137\151\x64" => $refund_id, "\x6f\162\144\145\162\x5f\163\x74\x61\x74\x75\x73" => 3, "\165\x6e\151\x61\x63\151\144" => $_W["\x75\x6e\x69\141\143\151\144"])); goto clanG; k0aEp: $re_data = array("\155\141\x6e" => trim($_GPC["\x6d\x61\156"]), "\x61\x64\x64\162\x65\163\163" => trim($_GPC["\x61\x64\x64\162\145\163\x73"]), "\x6d\x6f\142\x69\x6c\x65" => trim($_GPC["\155\157\x62\151\154\145"]), "\165\x6e\x69\x61\143\x69\144" => $_W["\165\x6e\151\141\143\x69\x64"]); goto A1iho; dmeuJ: exit; goto rcF0P; Cv6gm: $remark = $beizhu; goto g0kJn; t0dtg: goto TMeKU; goto fylGk; oYJva: $result = pdo_update("\155\151\x68\x75\141\x5f\x6d\141\154\154\137\157\x72\144\x65\162\137\x67\157\x6f\x64\163", array("\157\162\144\x65\162\x5f\x73\164\x61\164\165\163" => $status), array("\162\145\146\x75\156\144\137\151\144" => $refund_id, "\157\162\144\145\162\x5f\163\164\141\164\165\x73" => $afterstatus, "\x75\156\x69\141\x63\151\x64" => $_W["\x75\x6e\x69\x61\143\x69\x64"])); goto G42Le; ipvef: $re_data = array("\x72\x65\155\141\162\x6b" => $beizhu, "\x72\145\163\x75\154\164\x74\x69\x6d\x65" => time(), "\x61\144\x64\x72\x65\x73\163\151\x64" => intval($_GPC["\x61\x64\144\x72\x65\163\x73\151\144"])); goto Pdfeq; YaC7u: goto TnvX3; goto LQhO_; lQVjN: if (!($noticeid < 0)) { goto s9oTa; } goto sFKLF; EZJXA: $re_data = array("\x65\x78\160\x72\x65\163\x73\164\x69\155\145" => time(), "\145\170\x70\x72\145\x73\x73\x63\157\155" => $_GPC["\145\170\x70\162\x65\163\x73\143\x6f\x6d"], "\x65\x78\x70\162\145\x73\x73\x73\x6e" => $_GPC["\145\x78\160\162\x65\163\163\x73\x6e"], "\145\170\160\x72\x65\163\x73" => $_GPC["\x65\x78\x70\x72\x65\x73\163"]); goto ChT4T; icSSb: if (!$result) { goto c9EQC; } goto pDXAu; P_eiA: goto Nnmr_; goto pktyV; BYM1p: if (!(empty($refund_id) || empty($_GPC["\145\170\x70\x72\145\163\163\143\157\155"]) || empty($_GPC["\145\170\x70\x72\x65\163\x73\x73\x6e"]) || empty($_GPC["\145\170\x70\x72\x65\x73\x73"]))) { goto jM63P; } goto TtOzB; WPKmm: j0K4G: goto oYJva; Okw8T: $data = util::getSingelDataInSingleTable("\155\x69\150\x75\141\x5f\155\x61\x6c\x6c\x5f\157\x72\144\x65\x72\137\x67\x6f\x6f\x64\163", $where, "\x70\162\x69\x63\145\x2c\157\162\x64\145\x72\x5f\163\x74\141\164\165\163\54\x67\x6f\x6f\x64\163\x69\x64\x2c\162\145\x66\165\156\x64\x5f\x69\x64\54\x6f\162\144\x65\x72\x69\x64\54\x69\144"); goto DFB9W; Ad22R: exit; goto yFQGM; PTiYf: $title = "\345\xbe\210\346\212\xb1\xe6\255\x89\357\xbc\214\xe6\202\xa8\xe7\232\x84\351\200\x80\xe6\254\276\xe7\x94\xb3\xe8\xaf\xb7\345\267\xb2\xe8\242\253\xe9\251\263\345\233\x9e"; goto brguq; hW4d4: jM63P: goto EZJXA; CD1s7: exit; goto uJyan; F2N9t: if ($op == "\163\x75\x62\155\x69\164\x52\145\163\x75\x6c\x74") { goto B5A5r; } goto RtW80; AlFi_: } static function createQrCode($ordersn, $groupid) { goto DcIs6; kQ25T: kjJHC: goto fIW5B; DcIs6: global $_W; goto cO6Qp; gbB4V: foreach ($orderdata[0] as $kk => $vv) { self::createQrCodeByorder($ordersn, $vv["\x6f\162\x64\145\162\x73\x6e"], $vv["\151\144"]); RGAId: } goto kQ25T; cO6Qp: $orderdata = util::getAllDataInSingleTable("\155\151\x68\165\x61\x5f\155\141\x6c\x6c\x5f\x6f\162\144\145\x72", array("\x67\162\x6f\165\160\151\x64" => $groupid), 1, 50, "\x69\x64\40\144\x65\163\x63", false, "\x6f\162\x64\x65\162\x73\x6e"); goto gbB4V; fIW5B: } static function createQrCodeByorder($ordersn, $id) { goto xNVsM; qltl_: return; goto tVUgB; hFXo6: foreach ($data as $k => $v) { goto B1Jo1; VtVgs: o_03f: goto sBcsh; DpDSU: $qr_code = util::getURLQR($homeurl, $ordersn . "\137" . $v["\151\144"]); goto R_Yh8; B1Jo1: $homeurl = util::getVerify($ordersn . "\x5f" . $v["\151\144"]); goto DpDSU; G4o2u: pdo_update("\155\151\150\165\x61\x5f\155\x61\154\x6c\x5f\157\x72\144\x65\162\137\147\x6f\x6f\144\x73", array("\161\x72\137\143\157\x64\145" => $qr_code, "\x71\x72\x5f\x63\157\x64\x65\x5f\163\x74\x72" => $qr_code_str), array("\x69\x64" => $v["\x69\144"], "\x75\x6e\151\x61\x63\x69\x64" => $_W["\165\156\x69\141\143\151\144"])); goto VtVgs; R_Yh8: $qr_code_str = util::getrandomstr("\x6d\151\x68\165\141\x5f\x6d\x61\154\154\137\x6f\162\144\x65\x72\137\147\157\157\x64\163", 6, "\161\162\x5f\x63\157\144\x65\x5f\163\x74\x72"); goto G4o2u; sBcsh: } goto aq0sQ; rw8N_: $data = util::getAllDataBySingleTable("\155\x69\150\x75\x61\137\x6d\141\154\x6c\137\x6f\162\144\145\162\137\147\157\157\144\x73", array("\157\x72\144\145\162\151\144" => $id), "\x69\x64\x20\x64\x65\163\143"); goto hFXo6; aq0sQ: rMtAF: goto qltl_; xNVsM: global $_W; goto rw8N_; tVUgB: } static function createQrCodeByogid($ordersn, $ogid) { goto lN8NP; JesmP: $qr_code = util::getURLQR($homeurl, $ordersn . "\x5f" . $ogid); goto HnBGY; qCMI6: return $qr_code; goto UVmOg; HnBGY: $qr_code_str = util::getrandomstr("\x6d\151\x68\165\141\137\155\141\154\154\137\157\x72\144\x65\162\x5f\147\157\x6f\144\163", 6, "\161\162\137\143\157\x64\x65\137\x73\164\x72"); goto zTj89; gXTfZ: $homeurl = util::getVerify($ordersn . "\x5f" . $ogid); goto JesmP; zTj89: pdo_update("\x6d\x69\150\x75\141\x5f\155\x61\154\x6c\x5f\157\x72\x64\145\162\137\147\157\x6f\144\x73", array("\161\x72\x5f\143\x6f\144\145" => $qr_code, "\161\162\x5f\143\157\144\x65\137\163\x74\162" => $qr_code_str), array("\x69\144" => $ogid, "\165\x6e\151\x61\143\x69\144" => $_W["\165\x6e\151\141\143\x69\144"])); goto qCMI6; lN8NP: global $_W; goto gXTfZ; UVmOg: } }