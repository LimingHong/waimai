<?php
 namespace GuzzleHttp\Psr7; use Psr\Http\Message\StreamInterface; class AppendStream implements StreamInterface { private $streams = array(); private $seekable = true; private $current = 0; private $pos = 0; private $detached = false; public function __construct(array $streams = array()) { foreach ($streams as $stream) { $this->addStream($stream); YZMCT: } UdTxY: } public function __toString() { try { $this->rewind(); return $this->getContents(); } catch (\Exception $e) { return ''; } } public function addStream(StreamInterface $stream) { goto DCYin; PxdBr: $this->seekable = false; goto NZmUk; NZmUk: zsYYi: goto Se1V6; Se1V6: $this->streams[] = $stream; goto HOLw1; DCYin: if ($stream->isReadable()) { goto xNlJg; } goto Ykgkc; D9KwZ: if ($stream->isSeekable()) { goto zsYYi; } goto PxdBr; Ykgkc: throw new \InvalidArgumentException("\x45\x61\143\150\40\x73\164\162\x65\x61\x6d\40\x6d\x75\163\164\40\142\145\40\x72\x65\x61\x64\x61\x62\x6c\x65"); goto x6lez; x6lez: xNlJg: goto D9KwZ; HOLw1: } public function getContents() { return copy_to_string($this); } public function close() { goto ceWul; EW8i3: lYcx4: goto Jj9zm; U1K5y: foreach ($this->streams as $stream) { $stream->close(); Kn16r: } goto EW8i3; Jj9zm: $this->streams = []; goto y09bX; ceWul: $this->pos = $this->current = 0; goto U1K5y; y09bX: } public function detach() { $this->close(); $this->detached = true; } public function tell() { return $this->pos; } public function getSize() { goto vXzzW; a_uMm: xpQR3: goto LZCEa; t4T7b: foreach ($this->streams as $stream) { goto gsN_9; PP_wn: if (!($s === null)) { goto SLIe6; } goto sQpnX; Ew9qL: SLIe6: goto DYrfy; gsN_9: $s = $stream->getSize(); goto PP_wn; sQpnX: return null; goto Ew9qL; DYrfy: $size += $s; goto dcR1E; dcR1E: yyEC7: goto pIzuF; pIzuF: } goto a_uMm; vXzzW: $size = 0; goto t4T7b; LZCEa: return $size; goto TnkPy; TnkPy: } public function eof() { return !$this->streams || $this->current >= count($this->streams) - 1 && $this->streams[$this->current]->eof(); } public function rewind() { $this->seek(0); } public function seek($offset, $whence = SEEK_SET) { goto FBrWH; ndDG2: H8_py: goto SK2K7; tG6hu: $this->pos = $this->current = 0; goto ILp4I; B2SBI: Ximqs: goto zGQQk; y5uN7: $result = $this->read(min(8096, $offset - $this->pos)); goto h1lhM; DKx0q: zi95c: goto ug8ti; xLXxZ: goto JhxAV; goto q5g3V; h1lhM: if (!($result === '')) { goto zi95c; } goto NqGCp; robOA: JhxAV: goto tG6hu; nkOsN: WOwUi: goto M7Uoe; FBrWH: if (!$this->seekable) { goto Ximqs; } goto Cxk6o; fM9wn: if (!($this->pos < $offset && !$this->eof())) { goto H8_py; } goto y5uN7; UDBGL: goto JhxAV; goto B2SBI; NqGCp: goto H8_py; goto DKx0q; ILp4I: foreach ($this->streams as $i => $stream) { try { $stream->rewind(); } catch (\Exception $e) { throw new \RuntimeException("\125\x6e\141\142\154\145\x20\x74\157\x20\x73\x65\x65\153\40\163\164\162\x65\x61\x6d\40" . $i . "\40\x6f\x66\x20\x74\150\145\40\x41\x70\x70\145\156\x64\123\x74\162\x65\x61\x6d", 0, $e); } PkWRi: } goto nkOsN; Cxk6o: if ($whence !== SEEK_SET) { goto L6wMb; } goto UDBGL; ug8ti: goto iaVhO; goto ndDG2; zGQQk: throw new \RuntimeException("\x54\x68\x69\163\40\101\160\x70\145\x6e\x64\123\164\162\x65\x61\x6d\x20\151\x73\40\156\x6f\164\40\163\x65\x65\x6b\141\x62\x6c\x65"); goto xLXxZ; M7Uoe: iaVhO: goto fM9wn; q5g3V: L6wMb: goto TtS8k; TtS8k: throw new \RuntimeException("\x54\150\x65\x20\x41\160\x70\x65\156\144\x53\x74\x72\x65\x61\x6d\40\143\x61\156\x20\157\156\x6c\171\x20\x73\x65\x65\x6b\x20\167\x69\x74\150\40\x53\x45\105\x4b\137\x53\x45\x54"); goto robOA; SK2K7: } public function read($length) { goto iUD3t; wXOfJ: $remaining = $length; goto adOAY; DaAP5: $buffer .= $result; goto YVeOc; ebaPb: return $buffer; goto CDwj6; WfW40: if (!($this->current === $total)) { goto Y_KKC; } goto nvvMU; B4hJ3: goto QBdCp; goto pLsbP; T2d3r: if (!($remaining > 0)) { goto hHoBd; } goto h9O51; i4sMV: $result = $this->streams[$this->current]->read($remaining); goto fGk6h; xfcxq: $total = count($this->streams) - 1; goto wXOfJ; HBvaT: $this->pos += strlen($buffer); goto ebaPb; uY85O: $progressToNext = false; goto WfW40; pLsbP: hHoBd: goto HBvaT; b7g4O: $this->current++; goto cLN98; Jo831: $progressToNext = true; goto wdul9; h9O51: if (!($progressToNext || $this->streams[$this->current]->eof())) { goto QF1L9; } goto uY85O; nvvMU: goto hHoBd; goto R0XAk; adOAY: $progressToNext = false; goto E3OIH; N7zqi: vuVQz: goto DaAP5; fGk6h: if (!($result == null)) { goto vuVQz; } goto Jo831; R0XAk: Y_KKC: goto b7g4O; iUD3t: $buffer = ''; goto xfcxq; E3OIH: QBdCp: goto T2d3r; YVeOc: $remaining = $length - strlen($buffer); goto B4hJ3; cLN98: QF1L9: goto i4sMV; wdul9: goto QBdCp; goto N7zqi; CDwj6: } public function isReadable() { return true; } public function isWritable() { return false; } public function isSeekable() { return $this->seekable; } public function write($string) { throw new \RuntimeException("\x43\141\156\x6e\157\x74\40\167\162\x69\164\x65\x20\164\x6f\40\141\156\x20\x41\x70\x70\145\156\144\x53\x74\x72\145\141\x6d"); } public function getMetadata($key = null) { return $key ? null : []; } }